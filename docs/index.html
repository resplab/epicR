<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>R Package for Evaluation Platform in COPD â€¢ epicR</title>
<script src="deps/jquery-3.6.1/jquery-3.6.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="R Package for Evaluation Platform in COPD">
<meta name="description" content="Evaluation Platform in COPD (EPIC) is a Discrete Event Simulation (DES) model that simulates health outcomes of COPD patients based on demographics and individual-level risk factors, based on the model published in Sadatsafavi et al. (2019) &lt;doi:10.1177/0272989X18824098&gt;.">
<meta property="og:description" content="Evaluation Platform in COPD (EPIC) is a Discrete Event Simulation (DES) model that simulates health outcomes of COPD patients based on demographics and individual-level risk factors, based on the model published in Sadatsafavi et al. (2019) &lt;doi:10.1177/0272989X18824098&gt;.">
<style>
/* Event table styles */
.event-table table {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
    font-size: 1em;
    font-family: Arial, sans-serif;
    text-align: left;
    border: none;
}
.event-table table th {
    background-color: #f3f4f5;
    font-weight: bold;
    border-bottom: 3px solid #333;
    padding: 10px;
}
.event-table table td {
    padding: 8px;
}
.event-table table tr:nth-child(even) {
    background-color: #f3f4f5;
}
.event-table table tr:nth-child(odd) {
    background-color: #ffffff;
}

/* Dropdown table styles */
.custom-table-container-dropdown table {
    width: 100%;
    table-layout: fixed;
    border-collapse: collapse;
    margin: 20px 0;
    font-size: 1em;
    font-family: Arial, sans-serif;
    text-align: left;
    border: 1px solid #ddd;
}
.custom-table-container-dropdown table th {
    background-color: #f3f4f5;
    font-weight: bold;
    border-bottom: 3px solid #333;
    padding: 10px;
    text-align: left;
}
.custom-table-container-dropdown table td {
    padding: 8px;
}
.btn-primary {
    color: #fff;
    background-color: #007bff;
    border: none;
    padding: 5px 10px;
    font-size: 0.9em;
    cursor: pointer;
    border-radius: 3px;
}
.btn-primary:hover {
    background-color: #0056b3;
}
.custom-collapse {
    margin-top: 10px;
    padding: 10px;
    border: 1px solid #ddd;
    background-color: #f9f9f9;
    display: none;
}
.custom-collapse.show {
    display: block;
}

/* General table styles */
.custom-table-container table {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
    font-size: 1em;
    font-family: Arial, sans-serif;
    text-align: left;
    border: 1px solid #ddd;
}
.custom-table-container table th {
    background-color: #f3f4f5;
    font-weight: bold;
    border-bottom: 3px solid #333;
    padding: 10px;
    text-align: left;
}
.custom-table-container table td {
    padding: 8px;
    border-bottom: 1px solid #ddd;
}
.custom-table-container table tr:nth-child(even) {
    background-color: #f9f9f9;
}
.custom-table-container table tr:nth-child(odd) {
    background-color: #ffffff;
}
.custom-table-container table tr:hover {
    background-color: #b780ff;
}
</style>
<script>
document.addEventListener('DOMContentLoaded', function() {
  document.querySelectorAll('.btn-primary').forEach(function(button) {
    button.addEventListener('click', function() {
      var target = document.querySelector(button.getAttribute('data-target'));
      if (target) {
        target.classList.toggle('show');
      }
    });
  });
});
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">epicR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.33.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/AddingNewCountry.html">Adding a New Country to epicR</a></li>
    <li><a class="dropdown-item" href="articles/BackgroundEPIC.html">EPIC Background</a></li>
    <li><a class="dropdown-item" href="articles/GettingStarted.html">Getting Started with EPIC</a></li>
    <li><a class="dropdown-item" href="articles/RecalibratingEPIC.html">RecalibratingEPIC</a></li>
    <li><a class="dropdown-item" href="articles/UsingEPICinR.html">Using EPIC in R</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="epicr">epicR<a class="anchor" aria-label="anchor" href="#epicr"></a>
</h1></div>
<p>R package for Evaluation Platform in COPD (EPIC). Please refer to the published papers for more information:</p>
<p>Sadatsafavi, M., Ghanbarian, S., Adibi, A., Johnson, K., Mark FitzGerald, J., Flanagan, W., Sin, D. (2019). Development and Validation of the Evaluation Platform in COPD (EPIC): A Population-Based Outcomes Model of COPD for Canada. Medical Decision Making. <a href="https://doi.org/10.1177/0272989X18824098" class="external-link">https://doi.org/10.1177/0272989X18824098</a></p>
<p>Johnson KM, Sadatsafavi M, Adibi A, Lynd L, Harrison M, Tavakoli H, Sin DD, Bryan S. Cost effectiveness of case detection strategies for the early detection of COPD. Applied Health Economics and Health Policy. 2021 Mar;19(2):203-15. <a href="https://doi.org/10.1007/s40258-020-00616-2" class="external-link">https://doi.org/10.1007/s40258-020-00616-2</a></p>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>epicR provides an interface to to interact with the Evaluation Platform in COPD (EPIC), a discrete-event-simulation (DES) whole-disease model of Chronic Onstructive Pulmonary Disease.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<div class="section level3">
<h3 id="windows-7-or-later">Windows 7 or Later<a class="anchor" aria-label="anchor" href="#windows-7-or-later"></a>
</h3>
<ol style="list-style-type: decimal">
<li>Download and Install the latest version of R from <a href="https://cran.r-project.org/bin/windows/base/" class="external-link">https://cran.r-project.org/bin/windows/base/</a>
</li>
<li>Download and Install R Studio from <a href="https://www.rstudio.com/products/rstudio/download/" class="external-link">https://www.rstudio.com/products/rstudio/download/</a>
</li>
<li>Download and Install the latest version of Rtools from <a href="https://cran.r-project.org/bin/windows/Rtools/" class="external-link">https://cran.r-project.org/bin/windows/Rtools/</a>
</li>
<li>Using either an R session in Terminal or in R Studio, install the package <code>devtools</code>:</li>
</ol>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span>  <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">'remotes'</span><span class="op">)</span></span></code></pre></div>
<ol start="5" style="list-style-type: decimal">
<li>Install epicR from GitHub:</li>
</ol>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">'resplab/epicR'</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="mac-os-sierra-and-later">Mac OS Sierra and Later<a class="anchor" aria-label="anchor" href="#mac-os-sierra-and-later"></a>
</h3>
<ol style="list-style-type: decimal">
<li>Download and Install the latest version of R from <a href="https://cran.r-project.org/bin/macosx/" class="external-link">https://cran.r-project.org/bin/macosx/</a>
</li>
<li>Download and Install R Studio from <a href="https://www.rstudio.com/products/rstudio/download/" class="external-link">https://www.rstudio.com/products/rstudio/download/</a>
</li>
<li>Open the Terminal and remove previous installations of <code>clang</code>:</li>
</ol>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># Delete the clang4 binary</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="fu">sudo</span> rm <span class="at">-rf</span> /usr/local/clang4</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="co"># Delete the clang6 binary</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="fu">sudo</span> rm <span class="at">-rf</span> /usr/local/clang6</span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a><span class="co"># Delete the prior version of gfortran installed</span></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a><span class="fu">sudo</span> rm <span class="at">-rf</span> /usr/local/gfortran</span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a><span class="fu">sudo</span> rm <span class="at">-rf</span> /usr/local/bin/gfortran</span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a><span class="co"># Remove the install receipts that indicate a package is present</span></span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a><span class="co"># Remove the gfortran install receipts (run after the above commands)</span></span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a><span class="fu">sudo</span> rm /private/var/db/receipts/com.gnu.gfortran.bom</span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a><span class="fu">sudo</span> rm /private/var/db/receipts/com.gnu.gfortran.plist</span>
<span id="cb3-15"><a href="#cb3-15" tabindex="-1"></a></span>
<span id="cb3-16"><a href="#cb3-16" tabindex="-1"></a><span class="co"># Remove the clang4 installer receipt</span></span>
<span id="cb3-17"><a href="#cb3-17" tabindex="-1"></a><span class="fu">sudo</span> rm /private/var/db/receipts/com.rbinaries.clang4.bom</span>
<span id="cb3-18"><a href="#cb3-18" tabindex="-1"></a><span class="fu">sudo</span> rm /private/var/db/receipts/com.rbinaries.clang4.plist</span>
<span id="cb3-19"><a href="#cb3-19" tabindex="-1"></a></span>
<span id="cb3-20"><a href="#cb3-20" tabindex="-1"></a><span class="co"># Remove the Makevars file</span></span>
<span id="cb3-21"><a href="#cb3-21" tabindex="-1"></a><span class="fu">rm</span> ~/.R/Makevars</span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li><p>Install the latest version of <code>clang</code> by installing Xcode command tools: `xcode-select â€“install</p></li>
<li><p>Install the appropriate version of <code>gfortran</code> based on your Mac OS version using the dmg file found at <a href="https://github.com/fxcoudert/gfortran-for-macOS/releases" class="external-link">https://github.com/fxcoudert/gfortran-for-macOS/releases</a></p></li>
<li><p>Using either an R session in Terminal or in R Studio, install the packages <code>remotes</code> and <code>usethis</code>:</p></li>
</ol>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'remotes'</span>, <span class="st">'usethis'</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<ol start="7" style="list-style-type: decimal">
<li><p>Open the <code>.Renviron</code> file usibng the command <code><a href="https://usethis.r-lib.org/reference/edit.html" class="external-link">usethis::edit_r_environ()</a></code></p></li>
<li><p>Add the line <code>PATH="/usr/local/clang8/bin:${PATH}"</code> to the file. If you installed any clang version above 8, modify the file accordingly. Save the <code>.Renviron</code> file and restart R.</p></li>
<li><p>You should now be able to Install epicR from GitHub:</p></li>
</ol>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">'resplab/epicR'</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="ubuntu-2204-and-later">Ubuntu 22.04 and Later<a class="anchor" aria-label="anchor" href="#ubuntu-2204-and-later"></a>
</h3>
<ol style="list-style-type: decimal">
<li>Install R by executing the following commands in Terminal:</li>
</ol>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>  <span class="fu">sudo</span> apt-key adv <span class="at">--keyserver</span> keyserver.ubuntu.com <span class="at">--recv-keys</span> E298A3A825C0D65DFD57CBB651716619E084DAB9</span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>  <span class="fu">sudo</span> add-apt-repository <span class="st">'deb [arch=amd64,i386] https://cran.rstudio.com/bin/linux/ubuntu xenial/'</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>  <span class="fu">sudo</span> apt-get update</span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>  <span class="fu">sudo</span> apt-get install r-base</span></code></pre></div>
<p>If the installation is successful, you should be able to start R:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>  <span class="fu">sudo</span> <span class="at">-i</span> R</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Download and Install R Studio from <a href="https://www.rstudio.com/products/rstudio/download/" class="external-link">https://www.rstudio.com/products/rstudio/download/</a>
</li>
<li>Install <code>libcurl</code> from Terminal:</li>
</ol>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a>  <span class="fu">sudo</span> apt-get install libcurl4-openssl-dev libssl-dev r-base-dev</span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>Using either an R session in Terminal or in R Studio, install the package <code>devtools</code>:</li>
</ol>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span> <span class="op">(</span><span class="st">'remotes'</span><span class="op">)</span></span></code></pre></div>
<ol start="5" style="list-style-type: decimal">
<li>Install epicR from GitHub:</li>
</ol>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">'resplab/epicR'</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level1">
<h1 id="quick-guide">Quick Guide<a class="anchor" aria-label="anchor" href="#quick-guide"></a>
</h1>
<p>To run EPIC with default inputs and settings, use the code snippet below.</p>
<pre><code><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">epicR</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/init_session.html">init_session</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/run.html">run</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/Cget_output.html">Cget_output</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/terminate_session.html">terminate_session</a></span><span class="op">(</span><span class="op">)</span></span></code></pre>
<p>Default inputs can be retrieved with <code><a href="reference/get_input.html">get_input()</a></code>, changed as needed, and resubmitted as a parameter to the run function:</p>
<pre><code><span><span class="fu"><a href="reference/init_session.html">init_session</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">input</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_input.html">get_input</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">input</span><span class="op">$</span><span class="va">values</span><span class="op">$</span><span class="va">global_parameters</span><span class="op">$</span><span class="va">time_horizon</span> <span class="op">&lt;-</span> <span class="fl">5</span></span>
<span><span class="fu"><a href="reference/run.html">run</a></span><span class="op">(</span>input<span class="op">=</span><span class="va">input</span><span class="op">$</span><span class="va">values</span><span class="op">)</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/Cget_output.html">Cget_output</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">resultsExtra</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/Cget_output_ex.html">Cget_output_ex</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/terminate_session.html">terminate_session</a></span><span class="op">(</span><span class="op">)</span></span></code></pre>
<div class="section level2">
<h2 id="jurisdiction-specific-configuration">Jurisdiction-Specific Configuration<a class="anchor" aria-label="anchor" href="#jurisdiction-specific-configuration"></a>
</h2>
<p>EPIC now supports jurisdiction-specific parameter sets to enable modeling for different countries/regions. Currently, Canadian parameters are fully configured, with US parameters available as a template.</p>
<div class="section level3">
<h3 id="using-canadian-parameters-default">Using Canadian Parameters (Default)<a class="anchor" aria-label="anchor" href="#using-canadian-parameters-default"></a>
</h3>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Canadian parameters are used by default</span></span>
<span><span class="va">input</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_input.html">get_input</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co"># or explicitly specify:</span></span>
<span><span class="va">input</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_input.html">get_input</a></span><span class="op">(</span>jurisdiction <span class="op">=</span> <span class="st">"canada"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="using-us-parameters">Using US Parameters<a class="anchor" aria-label="anchor" href="#using-us-parameters"></a>
</h3>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Note: US parameters must be configured first (see Configuration section)</span></span>
<span><span class="va">input</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_input.html">get_input</a></span><span class="op">(</span>jurisdiction <span class="op">=</span> <span class="st">"us"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="parameter-override">Parameter Override<a class="anchor" aria-label="anchor" href="#parameter-override"></a>
</h3>
<p>Function parameters still override jurisdiction defaults:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Use Canadian defaults but change time horizon</span></span>
<span><span class="va">input</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_input.html">get_input</a></span><span class="op">(</span>jurisdiction <span class="op">=</span> <span class="st">"canada"</span>, time_horizon <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="configuration">Configuration<a class="anchor" aria-label="anchor" href="#configuration"></a>
</h2>
<p>Model parameters are stored in JSON configuration files located in <code>inst/config/</code>:</p>
<ul>
<li>
<code>config_canada.json</code> - Canadian parameter set (fully configured)</li>
<li>
<code>config_us.json</code> - US parameter template (requires configuration)</li>
</ul>
<div class="section level3">
<h3 id="configuring-us-parameters">Configuring US Parameters<a class="anchor" aria-label="anchor" href="#configuring-us-parameters"></a>
</h3>
<p>To use EPIC for US populations, replace placeholder values in <code>config_us.json</code> with appropriate US-specific data:</p>
<ol style="list-style-type: decimal">
<li>Demographics (age pyramid, mortality tables)</li>
<li>Smoking patterns and prevalence</li>
<li>Healthcare costs and utilization</li>
<li>Disease epidemiology parameters</li>
</ol>
<p>Example placeholder format:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a>  <span class="dt">"agent"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a>    <span class="dt">"p_female"</span><span class="fu">:</span> <span class="st">"PLACEHOLDER_US_P_FEMALE"</span></span>
<span id="cb19-4"><a href="#cb19-4" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb19-5"><a href="#cb19-5" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p>Replace with actual values:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a>  <span class="dt">"agent"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb20-3"><a href="#cb20-3" tabindex="-1"></a>    <span class="dt">"p_female"</span><span class="fu">:</span> <span class="fl">0.51</span></span>
<span id="cb20-4"><a href="#cb20-4" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb20-5"><a href="#cb20-5" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p>For some studies, having access to the entire event history of the simulated population might be beneficial. Capturing event history is possible by setting <code>record_mode</code> as a <code>setting</code>.</p>
<pre><code><span><span class="va">settings</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_default_settings.html">get_default_settings</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">settings</span><span class="op">$</span><span class="va">record_mode</span> <span class="op">&lt;-</span> <span class="fl">2</span></span>
<span><span class="va">settings</span><span class="op">$</span><span class="va">n_base_agents</span> <span class="op">&lt;-</span> <span class="fl">1e4</span></span>
<span><span class="fu"><a href="reference/init_session.html">init_session</a></span><span class="op">(</span>settings <span class="op">=</span> <span class="va">settings</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/run.html">run</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/Cget_output.html">Cget_output</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">events</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="fu"><a href="reference/Cget_all_events_matrix.html">Cget_all_events_matrix</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">events</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/terminate_session.html">terminate_session</a></span><span class="op">(</span><span class="op">)</span></span></code></pre>
<p>Note that you might need a large amount of memory available, if you want to collect event history for a large number of patients.</p>
<p>In the events data frame, each type of event has a code corresponding to the table below:</p>
<table class="table">
<thead><tr class="header">
<th>Event</th>
<th>No.</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>start</td>
<td>0</td>
</tr>
<tr class="even">
<td>annual</td>
<td>1</td>
</tr>
<tr class="odd">
<td>birthday</td>
<td>2</td>
</tr>
<tr class="even">
<td>smoking change</td>
<td>3</td>
</tr>
<tr class="odd">
<td>COPD incidence</td>
<td>4</td>
</tr>
<tr class="even">
<td>Exacerbation</td>
<td>5</td>
</tr>
<tr class="odd">
<td>Exacerbation end</td>
<td>6</td>
</tr>
<tr class="even">
<td>Death by Exacerbation</td>
<td>7</td>
</tr>
<tr class="odd">
<td>Doctor visit</td>
<td>8</td>
</tr>
<tr class="even">
<td>Medication change</td>
<td>9</td>
</tr>
<tr class="odd">
<td>Background death</td>
<td>13</td>
</tr>
<tr class="even">
<td>End</td>
<td>14</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="closed-cohort-analysis">Closed-cohort analysis<a class="anchor" aria-label="anchor" href="#closed-cohort-analysis"></a>
</h2>
<p>Closed-cohort analysis can be specified by changing the appropriate input parameters.</p>
<pre><code><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">epicR</span><span class="op">)</span></span>
<span><span class="va">input</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_input.html">get_input</a></span><span class="op">(</span>closed_cohort <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">$</span><span class="va">values</span></span>
<span><span class="fu"><a href="reference/init_session.html">init_session</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/run.html">run</a></span><span class="op">(</span>input<span class="op">=</span><span class="va">input</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/Cget_output.html">Cget_output</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/terminate_session.html">terminate_session</a></span><span class="op">(</span><span class="op">)</span></span></code></pre>
<p>You can also combine jurisdiction and closed-cohort parameters:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Canadian closed-cohort analysis</span></span>
<span><span class="va">input</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_input.html">get_input</a></span><span class="op">(</span>jurisdiction <span class="op">=</span> <span class="st">"canada"</span>, closed_cohort <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">$</span><span class="va">values</span></span>
<span></span>
<span><span class="co"># US closed-cohort analysis (once US parameters are configured)</span></span>
<span><span class="va">input</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_input.html">get_input</a></span><span class="op">(</span>jurisdiction <span class="op">=</span> <span class="st">"us"</span>, closed_cohort <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">$</span><span class="va">values</span></span></code></pre></div>
</div>
</div>
<div class="section level1">
<h1 id="peer-models-network-epic-on-the-cloud">Peer Models Network: EPIC on the Cloud<a class="anchor" aria-label="anchor" href="#peer-models-network-epic-on-the-cloud"></a>
</h1>
<p>The <a href="https://www.peermodelsnetwork.com/" class="external-link">Peer Models Network</a> provides educational material abour the model. It also allows users to access EPIC through the cloud. A MACRO-enabled Excel-file can be used to interact with the model and see the results. To download the PRISM Excel template file for EPIC, or to access EPIC using APIs please refer to the <a href="https://models.peermodelsnetwork.com/#/" class="external-link">PMN model repository</a></p>
<div class="section level2">
<h2 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h2>
<p>Please cite:</p>
<p><code>Sadatsafavi, M., Ghanbarian, S., Adibi, A., Johnson, K., Mark FitzGerald, J., Flanagan, W., â€¦ Sin, D. (2019). Development and Validation of the Evaluation Platform in COPD (EPIC): A Population-Based Outcomes Model of COPD for Canada. Medical Decision Making. https://doi.org/10.1177/0272989X18824098</code></p>
</div>
</div>

  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing epicR</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Mohsen Sadatsafavi <br><small class="roles"> Author, copyright holder </small>   </li>
<li>Amin Adibi <br><small class="roles"> Author, maintainer </small>   </li>
<li>Kate Johnson <br><small class="roles"> Author </small>   </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/resplab/epicR/actions" class="external-link"><img src="https://github.com/resplab/epicR/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/resplab/epicR" class="external-link"><img src="https://codecov.io/gh/resplab/epicR/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://www.repostatus.org/#active" class="external-link"><img src="https://www.repostatus.org/badges/latest/active.svg" alt="Project Status: Active â€“ The project has reached a stable, usable state and is being actively developed."></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Mohsen Sadatsafavi, Amin Adibi, Kate Johnson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
