<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>R Package for Evaluation Platform in COPD • epicR</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="R Package for Evaluation Platform in COPD">
<meta name="description" content="Evaluation Platform in COPD (EPIC) is a Discrete Event Simulation (DES) model that simulates health outcomes of COPD patients based on demographics and individual-level risk factors, based on the model published in Sadatsafavi et al. (2019) &lt;doi:10.1177/0272989X18824098&gt;.">
<meta property="og:description" content="Evaluation Platform in COPD (EPIC) is a Discrete Event Simulation (DES) model that simulates health outcomes of COPD patients based on demographics and individual-level risk factors, based on the model published in Sadatsafavi et al. (2019) &lt;doi:10.1177/0272989X18824098&gt;.">
<style>
/* Event table styles */
.event-table table {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
    font-size: 1em;
    font-family: Arial, sans-serif;
    text-align: left;
    border: none;
}
.event-table table th {
    background-color: #f3f4f5;
    font-weight: bold;
    border-bottom: 3px solid #333;
    padding: 10px;
}
.event-table table td {
    padding: 8px;
}
.event-table table tr:nth-child(even) {
    background-color: #f3f4f5;
}
.event-table table tr:nth-child(odd) {
    background-color: #ffffff;
}

/* Dropdown table styles */
.custom-table-container-dropdown table {
    width: 100%;
    table-layout: fixed;
    border-collapse: collapse;
    margin: 20px 0;
    font-size: 1em;
    font-family: Arial, sans-serif;
    text-align: left;
    border: 1px solid #ddd;
}
.custom-table-container-dropdown table th {
    background-color: #f3f4f5;
    font-weight: bold;
    border-bottom: 3px solid #333;
    padding: 10px;
    text-align: left;
}
.custom-table-container-dropdown table td {
    padding: 8px;
}
.btn-primary {
    color: #fff;
    background-color: #007bff;
    border: none;
    padding: 5px 10px;
    font-size: 0.9em;
    cursor: pointer;
    border-radius: 3px;
}
.btn-primary:hover {
    background-color: #0056b3;
}
.custom-collapse {
    margin-top: 10px;
    padding: 10px;
    border: 1px solid #ddd;
    background-color: #f9f9f9;
    display: none;
}
.custom-collapse.show {
    display: block;
}

/* General table styles */
.custom-table-container table {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
    font-size: 1em;
    font-family: Arial, sans-serif;
    text-align: left;
    border: 1px solid #ddd;
}
.custom-table-container table th {
    background-color: #f3f4f5;
    font-weight: bold;
    border-bottom: 3px solid #333;
    padding: 10px;
    text-align: left;
}
.custom-table-container table td {
    padding: 8px;
    border-bottom: 1px solid #ddd;
}
.custom-table-container table tr:nth-child(even) {
    background-color: #f9f9f9;
}
.custom-table-container table tr:nth-child(odd) {
    background-color: #ffffff;
}
.custom-table-container table tr:hover {
    background-color: #b780ff;
}
</style>
<script>
document.addEventListener('DOMContentLoaded', function() {
  document.querySelectorAll('.btn-primary').forEach(function(button) {
    button.addEventListener('click', function() {
      var target = document.querySelector(button.getAttribute('data-target'));
      if (target) {
        target.classList.toggle('show');
      }
    });
  });
});
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">epicR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/AddingNewCountry.html">Adding a New Country to epicR</a></li>
    <li><a class="dropdown-item" href="articles/BackgroundEPIC.html">EPIC Background</a></li>
    <li><a class="dropdown-item" href="articles/GettingStarted.html">Getting Started with EPIC</a></li>
    <li><a class="dropdown-item" href="articles/InputsOutputsStructure.html">Inputs and Outputs Structure</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="epicr">epicR<a class="anchor" aria-label="anchor" href="#epicr"></a>
</h1></div>
<p>R package for Evaluation Platform in COPD (EPIC).</p>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>epicR provides an interface to interact with the Evaluation Platform in COPD (EPIC), a discrete-event-simulation (DES) whole-disease model of Chronic Obstructive Pulmonary Disease.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<div class="section level3">
<h3 id="install-from-cran-recommended">Install from CRAN (Recommended)<a class="anchor" aria-label="anchor" href="#install-from-cran-recommended"></a>
</h3>
<p>The easiest way to install epicR is from CRAN:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"epicR"</span><span class="op">)</span></span></code></pre></div>
<p>This works on all platforms (Windows, macOS, Linux) and handles dependencies automatically.</p>
</div>
<div class="section level3">
<h3 id="install-development-version-from-github">Install Development Version from GitHub<a class="anchor" aria-label="anchor" href="#install-development-version-from-github"></a>
</h3>
<p>To install the latest development version with new features and bug fixes:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"pak"</span><span class="op">)</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pkg_install.html" class="external-link">pkg_install</a></span><span class="op">(</span><span class="st">"resplab/epicR"</span><span class="op">)</span></span></code></pre></div>
<p><strong>Note:</strong> Installing from GitHub requires compilation tools: - <strong>Windows</strong>: Install <a href="https://cran.r-project.org/bin/windows/Rtools/" class="external-link">Rtools</a> - <strong>macOS</strong>: Install Xcode Command Line Tools (<code>xcode-select --install</code>) and <a href="https://cran.r-project.org/bin/macosx/tools/" class="external-link">gfortran</a> - <strong>Linux</strong>: Install <code>r-base-dev</code> and build essentials (<code>sudo apt-get install r-base-dev</code> on Ubuntu/Debian)</p>
</div>
</div>
</div>
<div class="section level1">
<h1 id="quick-guide">Quick Guide<a class="anchor" aria-label="anchor" href="#quick-guide"></a>
</h1>
<div class="section level2">
<h2 id="simple-usage-recommended">Simple Usage (Recommended)<a class="anchor" aria-label="anchor" href="#simple-usage-recommended"></a>
</h2>
<p>The easiest way to run EPIC is with the <code><a href="reference/simulate.html">simulate()</a></code> function, which handles all session management automatically and provides progress information including a real-time progress bar:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">epicR</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Run with defaults (Canada, 20 year horizon, 60,000 agents)</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/simulate.html">simulate</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">results</span><span class="op">$</span><span class="va">basic</span><span class="op">)</span></span>
<span><span class="co"># Shows configuration, progress bar (10% 20% ... 100%), and elapsed time</span></span>
<span></span>
<span><span class="co"># Run for US with custom parameters</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/simulate.html">simulate</a></span><span class="op">(</span>jurisdiction <span class="op">=</span> <span class="st">"us"</span>, time_horizon <span class="op">=</span> <span class="fl">10</span>, n_agents <span class="op">=</span> <span class="fl">100000</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Quick test with fewer agents (faster)</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/simulate.html">simulate</a></span><span class="op">(</span>n_agents <span class="op">=</span> <span class="fl">10000</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># By default, you get both basic and extended results</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/simulate.html">simulate</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">results</span><span class="op">$</span><span class="va">basic</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">results</span><span class="op">$</span><span class="va">extended</span><span class="op">)</span>  <span class="co"># Included by default</span></span>
<span></span>
<span><span class="co"># Get basic output only (faster, less memory)</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/simulate.html">simulate</a></span><span class="op">(</span>extended_results <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">results</span><span class="op">$</span><span class="va">basic</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get event history (automatically enables event recording)</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/simulate.html">simulate</a></span><span class="op">(</span>return_events <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">results</span><span class="op">$</span><span class="va">events</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get everything with custom settings</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/simulate.html">simulate</a></span><span class="op">(</span></span>
<span>  jurisdiction <span class="op">=</span> <span class="st">"us"</span>,</span>
<span>  time_horizon <span class="op">=</span> <span class="fl">15</span>,</span>
<span>  n_agents <span class="op">=</span> <span class="fl">50000</span>,</span>
<span>  extended_results <span class="op">=</span> <span class="cn">TRUE</span>,  <span class="co"># TRUE by default</span></span>
<span>  return_events <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="co"># Returns: results$basic, results$extended, results$events</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="setting-seeds-for-reproducibility">Setting Seeds for Reproducibility<a class="anchor" aria-label="anchor" href="#setting-seeds-for-reproducibility"></a>
</h2>
<p>EPIC uses a custom seed mechanism (different from R’s native <code><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed()</a></code>) to ensure reproducible results. Use the <code>seed</code> parameter in the <code><a href="reference/simulate.html">simulate()</a></code> function:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Run with a specific seed for reproducible results</span></span>
<span><span class="va">results1</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/simulate.html">simulate</a></span><span class="op">(</span>seed <span class="op">=</span> <span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">results2</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/simulate.html">simulate</a></span><span class="op">(</span>seed <span class="op">=</span> <span class="fl">123</span><span class="op">)</span></span>
<span><span class="co"># Results will be identical!</span></span>
<span></span>
<span><span class="co"># Different seeds give different results</span></span>
<span><span class="va">results_a</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/simulate.html">simulate</a></span><span class="op">(</span>seed <span class="op">=</span> <span class="fl">42</span><span class="op">)</span></span>
<span><span class="va">results_b</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/simulate.html">simulate</a></span><span class="op">(</span>seed <span class="op">=</span> <span class="fl">99</span><span class="op">)</span></span>
<span><span class="co"># These will differ due to different random sequences</span></span>
<span></span>
<span><span class="co"># Combine seed with other parameters</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/simulate.html">simulate</a></span><span class="op">(</span></span>
<span>  jurisdiction <span class="op">=</span> <span class="st">"us"</span>,</span>
<span>  time_horizon <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  n_agents <span class="op">=</span> <span class="fl">50000</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">12345</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Use seeds for comparing interventions</span></span>
<span><span class="va">baseline</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/simulate.html">simulate</a></span><span class="op">(</span>seed <span class="op">=</span> <span class="fl">42</span><span class="op">)</span></span>
<span></span>
<span><span class="va">input</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_input.html">get_input</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">values</span></span>
<span><span class="co"># Modify input parameters here...</span></span>
<span><span class="va">intervention</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/simulate.html">simulate</a></span><span class="op">(</span>input <span class="op">=</span> <span class="va">input</span>, seed <span class="op">=</span> <span class="fl">42</span><span class="op">)</span></span>
<span><span class="co"># Compare with identical random variation removed</span></span></code></pre></div>
<p><strong>Important</strong>: Do NOT use R’s native <code><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed()</a></code> function before calling <code><a href="reference/simulate.html">simulate()</a></code>. The <code>seed</code> parameter handles reproducibility correctly within EPIC’s simulation framework.</p>
<p>For detailed information on seed usage, best practices, and technical details, see <a href="SEED_REPRODUCIBILITY.html">SEED_REPRODUCIBILITY.md</a>.</p>
</div>
<div class="section level2">
<h2 id="advanced-usage">Advanced Usage<a class="anchor" aria-label="anchor" href="#advanced-usage"></a>
</h2>
<p>For advanced customization of input parameters:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">epicR</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get and modify inputs</span></span>
<span><span class="va">input</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_input.html">get_input</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">input</span><span class="op">$</span><span class="va">values</span><span class="op">$</span><span class="va">global_parameters</span><span class="op">$</span><span class="va">time_horizon</span> <span class="op">&lt;-</span> <span class="fl">5</span></span>
<span></span>
<span><span class="co"># Run with custom inputs</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/simulate.html">simulate</a></span><span class="op">(</span>input <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">values</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="jurisdiction-specific-configuration">Jurisdiction-Specific Configuration<a class="anchor" aria-label="anchor" href="#jurisdiction-specific-configuration"></a>
</h2>
<p>EPIC now supports jurisdiction-specific parameter sets to enable modeling for different countries/regions. Currently, Canadian parameters are fully configured, with US parameters available as a template.</p>
<div class="section level3">
<h3 id="using-canadian-parameters-default">Using Canadian Parameters (Default)<a class="anchor" aria-label="anchor" href="#using-canadian-parameters-default"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Canadian parameters are used by default</span></span>
<span><span class="va">input</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_input.html">get_input</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co"># or explicitly specify:</span></span>
<span><span class="va">input</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_input.html">get_input</a></span><span class="op">(</span>jurisdiction <span class="op">=</span> <span class="st">"canada"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="using-us-parameters">Using US Parameters<a class="anchor" aria-label="anchor" href="#using-us-parameters"></a>
</h3>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Note: US parameters must be configured first (see Configuration section)</span></span>
<span><span class="va">input</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_input.html">get_input</a></span><span class="op">(</span>jurisdiction <span class="op">=</span> <span class="st">"us"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="parameter-override">Parameter Override<a class="anchor" aria-label="anchor" href="#parameter-override"></a>
</h3>
<p>Function parameters still override jurisdiction defaults:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Use Canadian defaults but change time horizon</span></span>
<span><span class="va">input</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_input.html">get_input</a></span><span class="op">(</span>jurisdiction <span class="op">=</span> <span class="st">"canada"</span>, time_horizon <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="configuration">Configuration<a class="anchor" aria-label="anchor" href="#configuration"></a>
</h2>
<div class="section level3">
<h3 id="user-customizable-configuration-files">User-Customizable Configuration Files<a class="anchor" aria-label="anchor" href="#user-customizable-configuration-files"></a>
</h3>
<p>epicR now supports user-customizable configuration files. When you load the package for the first time, configuration files are automatically copied to your home directory at <code>~/.epicR/config/</code>, allowing you to modify model parameters without changing the package code.</p>
<div class="section level4">
<h4 id="key-features">Key Features:<a class="anchor" aria-label="anchor" href="#key-features"></a>
</h4>
<ul>
<li>
<strong>Automatic Setup</strong>: Config files are copied to your home directory on first load</li>
<li>
<strong>Easy Customization</strong>: Edit JSON files in <code>~/.epicR/config/</code> to adjust parameters</li>
<li>
<strong>Automatic Detection</strong>: The package automatically uses your custom configs</li>
<li>
<strong>Simple Reset</strong>: Return to defaults anytime with <code><a href="reference/reset_user_configs.html">reset_user_configs()</a></code>
</li>
</ul>
</div>
<div class="section level4">
<h4 id="configuration-management-functions">Configuration Management Functions:<a class="anchor" aria-label="anchor" href="#configuration-management-functions"></a>
</h4>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># View config directory location</span></span>
<span><span class="fu"><a href="reference/get_user_config_dir.html">get_user_config_dir</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Open config directory in file explorer</span></span>
<span><span class="fu"><a href="reference/open_user_config_dir.html">open_user_config_dir</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># List available jurisdictions</span></span>
<span><span class="fu"><a href="reference/list_available_jurisdictions.html">list_available_jurisdictions</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Validate your configuration</span></span>
<span><span class="fu"><a href="reference/validate_config.html">validate_config</a></span><span class="op">(</span><span class="st">"canada"</span>, user <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Reset to package defaults</span></span>
<span><span class="fu"><a href="reference/reset_user_configs.html">reset_user_configs</a></span><span class="op">(</span><span class="op">)</span>  <span class="co"># All configs</span></span>
<span><span class="fu"><a href="reference/reset_user_configs.html">reset_user_configs</a></span><span class="op">(</span><span class="st">"canada"</span><span class="op">)</span>  <span class="co"># Specific jurisdiction</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="customizing-parameters">Customizing Parameters:<a class="anchor" aria-label="anchor" href="#customizing-parameters"></a>
</h4>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># 1. Open config directory</span></span>
<span><span class="fu"><a href="reference/open_user_config_dir.html">open_user_config_dir</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 2. Edit config_canada.json or config_us.json with your parameters</span></span>
<span></span>
<span><span class="co"># 3. Your changes are automatically used</span></span>
<span><span class="va">input</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_input.html">get_input</a></span><span class="op">(</span>jurisdiction <span class="op">=</span> <span class="st">"canada"</span><span class="op">)</span></span></code></pre></div>
<p>For detailed instructions, see the <a href="USER_CONFIG_GUIDE.html">User Configuration Guide</a>.</p>
</div>
</div>
<div class="section level3">
<h3 id="package-configuration-files">Package Configuration Files<a class="anchor" aria-label="anchor" href="#package-configuration-files"></a>
</h3>
<p>Default configurations are stored in the package at <code>inst/config/</code>:</p>
<ul>
<li>
<code>config_canada.json</code> - Canadian parameter set (fully configured)</li>
<li>
<code>config_us.json</code> - US parameter template (requires configuration)</li>
</ul>
</div>
<div class="section level3">
<h3 id="configuring-us-parameters">Configuring US Parameters<a class="anchor" aria-label="anchor" href="#configuring-us-parameters"></a>
</h3>
<p>To use EPIC for US populations, replace placeholder values in <code>config_us.json</code> with appropriate US-specific data:</p>
<ol style="list-style-type: decimal">
<li>Demographics (age pyramid, mortality tables)</li>
<li>Smoking patterns and prevalence</li>
<li>Healthcare costs and utilization</li>
<li>Disease epidemiology parameters</li>
</ol>
<p>Example placeholder format:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>  <span class="dt">"agent"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>    <span class="dt">"p_female"</span><span class="fu">:</span> <span class="st">"PLACEHOLDER_US_P_FEMALE"</span></span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p>Replace with actual values:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a>  <span class="dt">"agent"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a>    <span class="dt">"p_female"</span><span class="fu">:</span> <span class="dv">0</span><span class="er">.</span><span class="dv">51</span></span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="test-values">Test Values<a class="anchor" aria-label="anchor" href="#test-values"></a>
</h3>
<p>Configuration files also include jurisdiction-specific test values used for package validation:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a>  <span class="dt">"test_values"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a>    <span class="dt">"population_over_40_2015"</span><span class="fu">:</span> <span class="dv">18600000</span><span class="fu">,</span></span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a>    <span class="dt">"expected_severe_exacerbations_per_year"</span><span class="fu">:</span> <span class="dv">100000</span><span class="fu">,</span></span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a>    <span class="dt">"expected_severe_exac_tolerance"</span><span class="fu">:</span> <span class="dv">5000</span></span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p>These values represent: - <code>population_over_40_2015</code>: Population over 40 years of age (used for scaling test results) - <code>expected_severe_exacerbations_per_year</code>: Expected number of severe exacerbations per year for validation - <code>expected_severe_exac_tolerance</code>: Tolerance level for test assertions</p>
<p>For US parameters, replace with appropriate US values:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a>  <span class="dt">"test_values"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a>    <span class="dt">"population_over_40_2015"</span><span class="fu">:</span> <span class="dv">130000000</span><span class="fu">,</span></span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a>    <span class="dt">"expected_severe_exacerbations_per_year"</span><span class="fu">:</span> <span class="dv">700000</span><span class="fu">,</span></span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a>    <span class="dt">"expected_severe_exac_tolerance"</span><span class="fu">:</span> <span class="dv">35000</span></span>
<span id="cb14-6"><a href="#cb14-6" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb14-7"><a href="#cb14-7" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p>For some studies, having access to the entire event history of the simulated population might be beneficial. Capturing event history is possible by using the <code>return_events</code> parameter in <code><a href="reference/simulate.html">simulate()</a></code>:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get events along with other results</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/simulate.html">simulate</a></span><span class="op">(</span></span>
<span>  n_agents <span class="op">=</span> <span class="fl">10000</span>,</span>
<span>  return_events <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Access the events</span></span>
<span><span class="va">events</span> <span class="op">&lt;-</span> <span class="va">results</span><span class="op">$</span><span class="va">events</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">events</span><span class="op">)</span></span></code></pre></div>
<p>Alternatively, you can set <code>record_mode</code> as a <code>setting</code>:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">settings</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_default_settings.html">get_default_settings</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">settings</span><span class="op">$</span><span class="va">record_mode</span> <span class="op">&lt;-</span> <span class="fl">2</span></span>
<span><span class="va">settings</span><span class="op">$</span><span class="va">n_base_agents</span> <span class="op">&lt;-</span> <span class="fl">1e4</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/simulate.html">simulate</a></span><span class="op">(</span>settings <span class="op">=</span> <span class="va">settings</span>, return_events <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">events</span> <span class="op">&lt;-</span> <span class="va">results</span><span class="op">$</span><span class="va">events</span></span></code></pre></div>
<p>Note that you might need a large amount of memory available, if you want to collect event history for a large number of patients.</p>
<p>In the events data frame, each type of event has a code corresponding to the table below:</p>
<table class="table">
<thead><tr class="header">
<th>Event</th>
<th>No.</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>start</td>
<td>0</td>
</tr>
<tr class="even">
<td>annual</td>
<td>1</td>
</tr>
<tr class="odd">
<td>birthday</td>
<td>2</td>
</tr>
<tr class="even">
<td>smoking change</td>
<td>3</td>
</tr>
<tr class="odd">
<td>COPD incidence</td>
<td>4</td>
</tr>
<tr class="even">
<td>Exacerbation</td>
<td>5</td>
</tr>
<tr class="odd">
<td>Exacerbation end</td>
<td>6</td>
</tr>
<tr class="even">
<td>Death by Exacerbation</td>
<td>7</td>
</tr>
<tr class="odd">
<td>Doctor visit</td>
<td>8</td>
</tr>
<tr class="even">
<td>Medication change</td>
<td>9</td>
</tr>
<tr class="odd">
<td>Background death</td>
<td>13</td>
</tr>
<tr class="even">
<td>End</td>
<td>14</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="closed-cohort-analysis">Closed-cohort analysis<a class="anchor" aria-label="anchor" href="#closed-cohort-analysis"></a>
</h2>
<p>Closed-cohort analysis can be specified by changing the appropriate input parameters.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">epicR</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Simple closed-cohort analysis</span></span>
<span><span class="va">input</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_input.html">get_input</a></span><span class="op">(</span>closed_cohort <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">$</span><span class="va">values</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/simulate.html">simulate</a></span><span class="op">(</span>input <span class="op">=</span> <span class="va">input</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># You can also combine jurisdiction and closed-cohort parameters:</span></span>
<span><span class="co"># Canadian closed-cohort analysis</span></span>
<span><span class="va">input</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_input.html">get_input</a></span><span class="op">(</span>jurisdiction <span class="op">=</span> <span class="st">"canada"</span>, closed_cohort <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">$</span><span class="va">values</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/simulate.html">simulate</a></span><span class="op">(</span>input <span class="op">=</span> <span class="va">input</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># US closed-cohort analysis</span></span>
<span><span class="va">input</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_input.html">get_input</a></span><span class="op">(</span>jurisdiction <span class="op">=</span> <span class="st">"us"</span>, closed_cohort <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">$</span><span class="va">values</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/simulate.html">simulate</a></span><span class="op">(</span>input <span class="op">=</span> <span class="va">input</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="publications-with-epicr">Publications with epicR<a class="anchor" aria-label="anchor" href="#publications-with-epicr"></a>
</h2>
<p>The following publications have used epicR for their analyses:</p>
<p>Yan, K., Duan, K. and Johnson, K.M., 2025. Development and Validation of EPIC-USA: A COPD Policy Model for the United States. American Journal of Respiratory and Critical Care Medicine, 211(Abstracts), pp.A7130-A7130.</p>
<p>Mountain, R., Duan, K.I. and Johnson, K.M., 2024. Benefit–harm analysis of earlier initiation of triple therapy for prevention of acute exacerbation in patients with chronic obstructive pulmonary disease. Annals of the American Thoracic Society, 21(8), pp.1139-1146.</p>
<p>Mountain, R., Kim, D. and Johnson, K.M., 2023. Budget impact analysis of adopting primary care–based case detection of chronic obstructive pulmonary disease in the Canadian general population. Canadian Medical Association Open Access Journal, 11(6), pp.E1048-E1058.</p>
<p>Ahmadian, S., Johnson, K.M., Ho, J.K., Sin, D.D., Lynd, L.D., Harrison, M. and Sadatsafavi, M., 2023. A cost-effectiveness analysis of azithromycin for the prevention of acute exacerbations of chronic obstructive pulmonary disease. Annals of the American Thoracic Society, 20(12), pp.1735-1742.</p>
<p>Johnson KM, Sadatsafavi M, Adibi A, Lynd L, Harrison M, Tavakoli H, Sin DD, Bryan S. Cost effectiveness of case detection strategies for the early detection of COPD. Applied Health Economics and Health Policy. 2021 Mar;19(2):203-15. <a href="https://doi.org/10.1007/s40258-020-00616-2" class="external-link">https://doi.org/10.1007/s40258-020-00616-2</a></p>
</div>
<div class="section level2">
<h2 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h2>
<p>Please cite:</p>
<p>Sadatsafavi, M., Ghanbarian, S., Adibi, A., Johnson, K., Mark FitzGerald, J., Flanagan, W., Sin, D. (2019). Development and Validation of the Evaluation Platform in COPD (EPIC): A Population-Based Outcomes Model of COPD for Canada. Medical Decision Making. <a href="https://doi.org/10.1177/0272989X18824098" class="external-link">https://doi.org/10.1177/0272989X18824098</a></p>
</div>
</div>

  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing epicR</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Mohsen Sadatsafavi <br><small class="roles"> Author, copyright holder </small>   </li>
<li>Amin Adibi <br><small class="roles"> Author, maintainer </small>   </li>
<li>Kate Johnson <br><small class="roles"> Author </small>   </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/resplab/epicR/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/resplab/epicR/actions/workflows/R-CMD-check.yaml/badge.svg?branch=master" alt="R-CMD-check.yaml"></a></li>
<li><a href="https://www.repostatus.org/#active" class="external-link"><img src="https://www.repostatus.org/badges/latest/active.svg" alt="Project Status: Active – The project has reached a stable, usable state and is being actively developed."></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Mohsen Sadatsafavi, Amin Adibi, Kate Johnson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
