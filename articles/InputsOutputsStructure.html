<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Inputs and Outputs Structure â€¢ epicR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Inputs and Outputs Structure">
<style>
/* Event table styles */
.event-table table {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
    font-size: 1em;
    font-family: Arial, sans-serif;
    text-align: left;
    border: none;
}
.event-table table th {
    background-color: #f3f4f5;
    font-weight: bold;
    border-bottom: 3px solid #333;
    padding: 10px;
}
.event-table table td {
    padding: 8px;
}
.event-table table tr:nth-child(even) {
    background-color: #f3f4f5;
}
.event-table table tr:nth-child(odd) {
    background-color: #ffffff;
}

/* Dropdown table styles */
.custom-table-container-dropdown table {
    width: 100%;
    table-layout: fixed;
    border-collapse: collapse;
    margin: 20px 0;
    font-size: 1em;
    font-family: Arial, sans-serif;
    text-align: left;
    border: 1px solid #ddd;
}
.custom-table-container-dropdown table th {
    background-color: #f3f4f5;
    font-weight: bold;
    border-bottom: 3px solid #333;
    padding: 10px;
    text-align: left;
}
.custom-table-container-dropdown table td {
    padding: 8px;
}
.btn-primary {
    color: #fff;
    background-color: #007bff;
    border: none;
    padding: 5px 10px;
    font-size: 0.9em;
    cursor: pointer;
    border-radius: 3px;
}
.btn-primary:hover {
    background-color: #0056b3;
}
.custom-collapse {
    margin-top: 10px;
    padding: 10px;
    border: 1px solid #ddd;
    background-color: #f9f9f9;
    display: none;
}
.custom-collapse.show {
    display: block;
}

/* General table styles */
.custom-table-container table {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
    font-size: 1em;
    font-family: Arial, sans-serif;
    text-align: left;
    border: 1px solid #ddd;
}
.custom-table-container table th {
    background-color: #f3f4f5;
    font-weight: bold;
    border-bottom: 3px solid #333;
    padding: 10px;
    text-align: left;
}
.custom-table-container table td {
    padding: 8px;
    border-bottom: 1px solid #ddd;
}
.custom-table-container table tr:nth-child(even) {
    background-color: #f9f9f9;
}
.custom-table-container table tr:nth-child(odd) {
    background-color: #ffffff;
}
.custom-table-container table tr:hover {
    background-color: #b780ff;
}
</style>
<script>
document.addEventListener('DOMContentLoaded', function() {
  document.querySelectorAll('.btn-primary').forEach(function(button) {
    button.addEventListener('click', function() {
      var target = document.querySelector(button.getAttribute('data-target'));
      if (target) {
        target.classList.toggle('show');
      }
    });
  });
});
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">epicR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/AddingNewCountry.html">Adding a New Country to epicR</a></li>
    <li><a class="dropdown-item" href="../articles/BackgroundEPIC.html">EPIC Background</a></li>
    <li><a class="dropdown-item" href="../articles/GettingStarted.html">Getting Started with EPIC</a></li>
    <li><a class="dropdown-item" href="../articles/InputsOutputsStructure.html">Inputs and Outputs Structure</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Inputs and Outputs Structure</h1>
            
      

      <div class="d-none name"><code>InputsOutputsStructure.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="understanding-input-parameters">Understanding Input Parameters<a class="anchor" aria-label="anchor" href="#understanding-input-parameters"></a>
</h2>
<p>The EPIC model uses configuration files to define all input
parameters. Default input values are loaded from JSON configuration
files (e.g., <code>config_canada.json</code> or
<code>config_us.json</code>). You can retrieve these values using
<code><a href="../reference/get_input.html">get_input()</a></code>.</p>
<div class="section level3">
<h3 id="retrieving-input-parameters">Retrieving Input Parameters<a class="anchor" aria-label="anchor" href="#retrieving-input-parameters"></a>
</h3>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get default inputs for Canada (default)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">epicR</span><span class="op">)</span></span>
<span><span class="co">#&gt; epicR: Using config files from: /home/runner/.epicR/config</span></span>
<span><span class="co">#&gt; To reset configs to defaults, use: reset_user_configs()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'epicR'</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     simulate</span></span>
<span><span class="va">input</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_input.html">get_input</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get inputs for US</span></span>
<span><span class="va">input_us</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_input.html">get_input</a></span><span class="op">(</span>jurisdiction <span class="op">=</span> <span class="st">"us"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># The function returns a nested list with three components:</span></span>
<span><span class="co"># - values: The actual parameter values used in simulation</span></span>
<span><span class="co"># - help: Descriptions of what each parameter means</span></span>
<span><span class="co"># - ref: Literature references for each parameter</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="input-structure-overview">Input Structure Overview<a class="anchor" aria-label="anchor" href="#input-structure-overview"></a>
</h3>
<p>The <code>input$values</code> list contains the following main
categories:</p>
<table class="table">
<colgroup>
<col width="43%">
<col width="56%">
</colgroup>
<thead><tr class="header">
<th>Category</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>global_parameters</code></td>
<td>Time horizon, age ranges, discount rates, cohort settings</td>
</tr>
<tr class="even">
<td><code>agent</code></td>
<td>Population demographics, mortality, height/weight distributions</td>
</tr>
<tr class="odd">
<td><code>smoking</code></td>
<td>Smoking initiation, cessation, relapse rates, mortality factors</td>
</tr>
<tr class="even">
<td><code>COPD</code></td>
<td>COPD prevalence and incidence equations</td>
</tr>
<tr class="odd">
<td><code>lung_function</code></td>
<td>FEV1 baseline, decline, and prediction equations</td>
</tr>
<tr class="even">
<td><code>exacerbation</code></td>
<td>Exacerbation rates, severity, duration, and mortality</td>
</tr>
<tr class="odd">
<td><code>symptoms</code></td>
<td>Cough, phlegm, dyspnea, wheeze probabilities</td>
</tr>
<tr class="even">
<td><code>outpatient</code></td>
<td>GP visit rates</td>
</tr>
<tr class="odd">
<td><code>diagnosis</code></td>
<td>Diagnosis probabilities, case detection parameters</td>
</tr>
<tr class="even">
<td><code>medication</code></td>
<td>Medication adherence, effectiveness, costs, utilities</td>
</tr>
<tr class="odd">
<td><code>cost</code></td>
<td>Healthcare costs (exacerbations, maintenance, visits)</td>
</tr>
<tr class="even">
<td><code>utility</code></td>
<td>Quality of life utilities by disease stage</td>
</tr>
<tr class="odd">
<td><code>manual</code></td>
<td>Advanced calibration parameters</td>
</tr>
</tbody>
</table>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="detailed-input-categories">Detailed Input Categories<a class="anchor" aria-label="anchor" href="#detailed-input-categories"></a>
</h2>
<div class="section level3">
<h3 id="global-parameters-global_parameters">Global Parameters (<code>global_parameters</code>)<a class="anchor" aria-label="anchor" href="#global-parameters-global_parameters"></a>
</h3>
<p>Controls overall simulation settings.</p>
<table class="table">
<colgroup>
<col width="26%">
<col width="30%">
<col width="42%">
</colgroup>
<thead><tr class="header">
<th>Parameter</th>
<th>Description</th>
<th>Default (Canada)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>age0</code></td>
<td>Starting age in the model</td>
<td>40</td>
</tr>
<tr class="even">
<td><code>time_horizon</code></td>
<td>Model time horizon in years</td>
<td>20</td>
</tr>
<tr class="odd">
<td><code>discount_cost</code></td>
<td>Annual discount rate for costs</td>
<td>0</td>
</tr>
<tr class="even">
<td><code>discount_qaly</code></td>
<td>Annual discount rate for QALYs</td>
<td>0.03</td>
</tr>
<tr class="odd">
<td><code>closed_cohort</code></td>
<td>0 = open population (new agents enter), 1 = closed cohort</td>
<td>0</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example: Modify global parameters</span></span>
<span><span class="va">input</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_input.html">get_input</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">input</span><span class="op">$</span><span class="va">values</span><span class="op">$</span><span class="va">global_parameters</span><span class="op">$</span><span class="va">time_horizon</span> <span class="op">&lt;-</span> <span class="fl">10</span></span>
<span><span class="va">input</span><span class="op">$</span><span class="va">values</span><span class="op">$</span><span class="va">global_parameters</span><span class="op">$</span><span class="va">discount_cost</span> <span class="op">&lt;-</span> <span class="fl">0.015</span></span>
<span><span class="va">input</span><span class="op">$</span><span class="va">values</span><span class="op">$</span><span class="va">global_parameters</span><span class="op">$</span><span class="va">discount_qaly</span> <span class="op">&lt;-</span> <span class="fl">0.015</span></span>
<span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate.html">simulate</a></span><span class="op">(</span>input <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">values</span><span class="op">)</span></span>
<span><span class="co">#&gt; === EPIC Simulation Configuration ===</span></span>
<span><span class="co">#&gt; Jurisdiction: CANADA</span></span>
<span><span class="co">#&gt; Time horizon: 10 years</span></span>
<span><span class="co">#&gt; Number of agents: 60,000</span></span>
<span><span class="co">#&gt; Event recording: DISABLED</span></span>
<span><span class="co">#&gt; =====================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Starting simulation...</span></span>
<span><span class="co">#&gt; No active session - initializing automatically</span></span>
<span><span class="co">#&gt; Initializing the session</span></span>
<span><span class="co">#&gt; Working directory: /home/runner/work/epicR/epicR/vignettes</span></span>
<span><span class="co">#&gt; Running EPIC model (with custom input parameters)</span></span>
<span><span class="co">#&gt; Record mode: record_mode_none (0)</span></span>
<span><span class="co">#&gt; Note: No events will be recorded. Use record_mode_event (2) or record_mode_agent (1) to record events.</span></span>
<span><span class="co">#&gt; Simulating 60000 base agents: 10% 20% 30% 40% 50%</span></span>
<span><span class="co">#&gt; 60% 70% 80% 90% 100%</span></span>
<span><span class="co">#&gt; Simulation completed in 1.5 seconds</span></span>
<span><span class="co">#&gt; Collecting results...</span></span>
<span><span class="co">#&gt; Collecting extended results...</span></span>
<span><span class="co">#&gt; Terminating the session</span></span>
<span><span class="co">#&gt; Done!</span></span></code></pre></div>
<hr>
</div>
<div class="section level3">
<h3 id="agent-demographics-agent">Agent Demographics (<code>agent</code>)<a class="anchor" aria-label="anchor" href="#agent-demographics-agent"></a>
</h3>
<p>Defines the simulated population characteristics.</p>
<table class="table">
<colgroup>
<col width="45%">
<col width="54%">
</colgroup>
<thead><tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>p_female</code></td>
<td>Proportion of females in the population (default: 0.5)</td>
</tr>
<tr class="even">
<td><code>height_0_betas</code></td>
<td>Regression coefficients for baseline height (meters)</td>
</tr>
<tr class="odd">
<td><code>height_0_sd</code></td>
<td>Standard deviation of baseline height</td>
</tr>
<tr class="even">
<td><code>weight_0_betas</code></td>
<td>Regression coefficients for baseline weight (kg)</td>
</tr>
<tr class="odd">
<td><code>weight_0_sd</code></td>
<td>Standard deviation of baseline weight</td>
</tr>
<tr class="even">
<td><code>height_weight_rho</code></td>
<td>Correlation between height and weight</td>
</tr>
<tr class="odd">
<td><code>p_prevalence_age</code></td>
<td>Age distribution at baseline (111 values, ages 0-110)</td>
</tr>
<tr class="even">
<td><code>p_incidence_age</code></td>
<td>Age distribution for new population entering model</td>
</tr>
<tr class="odd">
<td><code>p_bgd_by_sex</code></td>
<td>Life table - annual probability of background death by age and
sex</td>
</tr>
<tr class="even">
<td><code>l_inc_betas</code></td>
<td>Log-rate of new population incidence</td>
</tr>
<tr class="odd">
<td><code>ln_h_bgd_betas</code></td>
<td>Modifiers for background mortality (time trends, etc.)</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example: Change population sex distribution</span></span>
<span><span class="va">input</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_input.html">get_input</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">input</span><span class="op">$</span><span class="va">values</span><span class="op">$</span><span class="va">agent</span><span class="op">$</span><span class="va">p_female</span> <span class="op">&lt;-</span> <span class="fl">0.52</span>  <span class="co"># 52% female</span></span>
<span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate.html">simulate</a></span><span class="op">(</span>input <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">values</span><span class="op">)</span></span>
<span><span class="co">#&gt; === EPIC Simulation Configuration ===</span></span>
<span><span class="co">#&gt; Jurisdiction: CANADA</span></span>
<span><span class="co">#&gt; Time horizon: 20 years</span></span>
<span><span class="co">#&gt; Number of agents: 60,000</span></span>
<span><span class="co">#&gt; Event recording: DISABLED</span></span>
<span><span class="co">#&gt; =====================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Starting simulation...</span></span>
<span><span class="co">#&gt; No active session - initializing automatically</span></span>
<span><span class="co">#&gt; Initializing the session</span></span>
<span><span class="co">#&gt; Working directory: /home/runner/work/epicR/epicR/vignettes</span></span>
<span><span class="co">#&gt; Running EPIC model (with custom input parameters)</span></span>
<span><span class="co">#&gt; Record mode: record_mode_none (0)</span></span>
<span><span class="co">#&gt; Note: No events will be recorded. Use record_mode_event (2) or record_mode_agent (1) to record events.</span></span>
<span><span class="co">#&gt; Simulating 60000 base agents: 10% 20% 30% 40% 50%</span></span>
<span><span class="co">#&gt; 60% 70% 80% 90% 100%</span></span>
<span><span class="co">#&gt; Simulation completed in 3.0 seconds</span></span>
<span><span class="co">#&gt; Collecting results...</span></span>
<span><span class="co">#&gt; Collecting extended results...</span></span>
<span><span class="co">#&gt; Terminating the session</span></span>
<span><span class="co">#&gt; Done!</span></span></code></pre></div>
<hr>
</div>
<div class="section level3">
<h3 id="smoking-parameters-smoking">Smoking Parameters (<code>smoking</code>)<a class="anchor" aria-label="anchor" href="#smoking-parameters-smoking"></a>
</h3>
<p>Controls smoking behavior and its health effects.</p>
<table class="table">
<colgroup>
<col width="45%">
<col width="54%">
</colgroup>
<thead><tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>logit_p_current_smoker_0_betas</code></td>
<td>Probability of being current smoker at creation</td>
</tr>
<tr class="even">
<td><code>logit_p_never_smoker_con_not_current_0_betas</code></td>
<td>Probability of being never-smoker (given not current)</td>
</tr>
<tr class="odd">
<td><code>minimum_smoking_prevalence</code></td>
<td>Floor for smoking prevalence</td>
</tr>
<tr class="even">
<td><code>mortality_factor_current</code></td>
<td>Mortality multipliers for current smokers by age group</td>
</tr>
<tr class="odd">
<td><code>mortality_factor_former</code></td>
<td>Mortality multipliers for former smokers by age group</td>
</tr>
<tr class="even">
<td><code>pack_years_0_betas</code></td>
<td>Pack-years regression at baseline</td>
</tr>
<tr class="odd">
<td><code>pack_years_0_sd</code></td>
<td>Standard deviation of pack-years</td>
</tr>
<tr class="even">
<td><code>ln_h_inc_betas</code></td>
<td>Log-hazard of smoking initiation/relapse</td>
</tr>
<tr class="odd">
<td><code>ln_h_ces_betas</code></td>
<td>Log-hazard of smoking cessation</td>
</tr>
<tr class="even">
<td><code>smoking_ces_coefficient</code></td>
<td>Decay rate for cessation treatment effect</td>
</tr>
<tr class="odd">
<td><code>smoking_cessation_adherence</code></td>
<td>Proportion adhering to cessation treatment</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example: Increase smoking cessation rate</span></span>
<span><span class="va">input</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_input.html">get_input</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co"># The first coefficient is the intercept - increasing it increases cessation rate</span></span>
<span><span class="va">input</span><span class="op">$</span><span class="va">values</span><span class="op">$</span><span class="va">smoking</span><span class="op">$</span><span class="va">ln_h_ces_betas</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">input</span><span class="op">$</span><span class="va">values</span><span class="op">$</span><span class="va">smoking</span><span class="op">$</span><span class="va">ln_h_ces_betas</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">+</span> <span class="fl">0.5</span></span>
<span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate.html">simulate</a></span><span class="op">(</span>input <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">values</span><span class="op">)</span></span>
<span><span class="co">#&gt; === EPIC Simulation Configuration ===</span></span>
<span><span class="co">#&gt; Jurisdiction: CANADA</span></span>
<span><span class="co">#&gt; Time horizon: 20 years</span></span>
<span><span class="co">#&gt; Number of agents: 60,000</span></span>
<span><span class="co">#&gt; Event recording: DISABLED</span></span>
<span><span class="co">#&gt; =====================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Starting simulation...</span></span>
<span><span class="co">#&gt; No active session - initializing automatically</span></span>
<span><span class="co">#&gt; Initializing the session</span></span>
<span><span class="co">#&gt; Working directory: /home/runner/work/epicR/epicR/vignettes</span></span>
<span><span class="co">#&gt; Running EPIC model (with custom input parameters)</span></span>
<span><span class="co">#&gt; Record mode: record_mode_none (0)</span></span>
<span><span class="co">#&gt; Note: No events will be recorded. Use record_mode_event (2) or record_mode_agent (1) to record events.</span></span>
<span><span class="co">#&gt; Simulating 60000 base agents: 10% 20% 30% 40% 50%</span></span>
<span><span class="co">#&gt; 60% 70% 80% 90% 100%</span></span>
<span><span class="co">#&gt; Simulation completed in 3.0 seconds</span></span>
<span><span class="co">#&gt; Collecting results...</span></span>
<span><span class="co">#&gt; Collecting extended results...</span></span>
<span><span class="co">#&gt; Terminating the session</span></span>
<span><span class="co">#&gt; Done!</span></span></code></pre></div>
<hr>
</div>
<div class="section level3">
<h3 id="copd-parameters-copd">COPD Parameters (<code>COPD</code>)<a class="anchor" aria-label="anchor" href="#copd-parameters-copd"></a>
</h3>
<p>Defines COPD prevalence and incidence.</p>
<table class="table">
<colgroup>
<col width="45%">
<col width="54%">
</colgroup>
<thead><tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>logit_p_COPD_betas_by_sex</code></td>
<td>Logit-probability of having COPD at creation (by sex)</td>
</tr>
<tr class="even">
<td><code>ln_h_COPD_betas_by_sex</code></td>
<td>Log-hazard of developing COPD over time (by sex)</td>
</tr>
</tbody>
</table>
<p>The beta coefficients typically include:</p>
<ul>
<li>Intercept</li>
<li>Age effect</li>
<li>Age-squared effect</li>
<li>Pack-years effect</li>
<li>Current smoking effect</li>
<li>Calendar time effect</li>
</ul>
<hr>
</div>
<div class="section level3">
<h3 id="lung-function-parameters-lung_function">Lung Function Parameters (<code>lung_function</code>)<a class="anchor" aria-label="anchor" href="#lung-function-parameters-lung_function"></a>
</h3>
<p>Controls FEV1 modeling.</p>
<table class="table">
<colgroup>
<col width="45%">
<col width="54%">
</colgroup>
<thead><tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>fev1_0_prev_betas_by_sex</code></td>
<td>FEV1 at creation for prevalent COPD cases</td>
</tr>
<tr class="even">
<td><code>fev1_0_prev_sd_by_sex</code></td>
<td>SD of FEV1 at creation (prevalent)</td>
</tr>
<tr class="odd">
<td><code>fev1_0_inc_betas_by_sex</code></td>
<td>FEV1 at COPD onset for incident cases</td>
</tr>
<tr class="even">
<td><code>fev1_0_inc_sd_by_sex</code></td>
<td>SD of FEV1 at COPD onset</td>
</tr>
<tr class="odd">
<td><code>fev1_0_ZafarCMAJ_by_sex</code></td>
<td>Coefficients for Zafari CMAJ FEV1 decline model</td>
</tr>
<tr class="even">
<td><code>pred_fev1_betas_by_sex</code></td>
<td>Predicted FEV1 calculation coefficients</td>
</tr>
<tr class="odd">
<td><code>fev1_betas_by_sex</code></td>
<td>Mixed-effects model for FEV1 decline</td>
</tr>
<tr class="even">
<td><code>dfev1_sigmas</code></td>
<td>Random effect variances for FEV1 decline</td>
</tr>
<tr class="odd">
<td><code>dfev1_re_rho</code></td>
<td>Correlation between random effects</td>
</tr>
</tbody>
</table>
<hr>
</div>
<div class="section level3">
<h3 id="exacerbation-parameters-exacerbation">Exacerbation Parameters (<code>exacerbation</code>)<a class="anchor" aria-label="anchor" href="#exacerbation-parameters-exacerbation"></a>
</h3>
<p>Controls exacerbation occurrence and outcomes.</p>
<table class="table">
<colgroup>
<col width="45%">
<col width="54%">
</colgroup>
<thead><tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>ln_rate_betas</code></td>
<td>Log-rate of exacerbation (10 coefficients)</td>
</tr>
<tr class="even">
<td><code>ln_rate_intercept_sd</code></td>
<td>Random intercept SD for exacerbation rate</td>
</tr>
<tr class="odd">
<td><code>logit_severity_betas</code></td>
<td>Proportional odds model for severity (9 coefficients)</td>
</tr>
<tr class="even">
<td><code>logit_severity_intercept_sd</code></td>
<td>Random intercept SD for severity</td>
</tr>
<tr class="odd">
<td><code>rate_severity_intercept_rho</code></td>
<td>Correlation between rate and severity random effects</td>
</tr>
<tr class="even">
<td><code>exac_end_rate</code></td>
<td>Rate of exacerbation resolution by severity (4 values)</td>
</tr>
<tr class="odd">
<td><code>logit_p_death_by_sex</code></td>
<td>Probability of death during exacerbation</td>
</tr>
</tbody>
</table>
<p><strong>Exacerbation severity levels:</strong></p>
<table class="table">
<thead><tr class="header">
<th>Level</th>
<th>Severity</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Mild</td>
</tr>
<tr class="even">
<td>2</td>
<td>Moderate</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Severe</td>
</tr>
<tr class="even">
<td>4</td>
<td>Very severe</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example: Reduce exacerbation rate</span></span>
<span><span class="va">input</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_input.html">get_input</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co"># Reduce the baseline rate (first coefficient is intercept)</span></span>
<span><span class="va">input</span><span class="op">$</span><span class="va">values</span><span class="op">$</span><span class="va">exacerbation</span><span class="op">$</span><span class="va">ln_rate_betas</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">input</span><span class="op">$</span><span class="va">values</span><span class="op">$</span><span class="va">exacerbation</span><span class="op">$</span><span class="va">ln_rate_betas</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">-</span> <span class="fl">0.2</span></span>
<span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate.html">simulate</a></span><span class="op">(</span>input <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">values</span><span class="op">)</span></span>
<span><span class="co">#&gt; === EPIC Simulation Configuration ===</span></span>
<span><span class="co">#&gt; Jurisdiction: CANADA</span></span>
<span><span class="co">#&gt; Time horizon: 20 years</span></span>
<span><span class="co">#&gt; Number of agents: 60,000</span></span>
<span><span class="co">#&gt; Event recording: DISABLED</span></span>
<span><span class="co">#&gt; =====================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Starting simulation...</span></span>
<span><span class="co">#&gt; No active session - initializing automatically</span></span>
<span><span class="co">#&gt; Initializing the session</span></span>
<span><span class="co">#&gt; Working directory: /home/runner/work/epicR/epicR/vignettes</span></span>
<span><span class="co">#&gt; Running EPIC model (with custom input parameters)</span></span>
<span><span class="co">#&gt; Record mode: record_mode_none (0)</span></span>
<span><span class="co">#&gt; Note: No events will be recorded. Use record_mode_event (2) or record_mode_agent (1) to record events.</span></span>
<span><span class="co">#&gt; Simulating 60000 base agents: 10% 20% 30% 40% 50%</span></span>
<span><span class="co">#&gt; 60% 70% 80% 90% 100%</span></span>
<span><span class="co">#&gt; Simulation completed in 3.0 seconds</span></span>
<span><span class="co">#&gt; Collecting results...</span></span>
<span><span class="co">#&gt; Collecting extended results...</span></span>
<span><span class="co">#&gt; Terminating the session</span></span>
<span><span class="co">#&gt; Done!</span></span></code></pre></div>
<hr>
</div>
<div class="section level3">
<h3 id="symptom-parameters-symptoms">Symptom Parameters (<code>symptoms</code>)<a class="anchor" aria-label="anchor" href="#symptom-parameters-symptoms"></a>
</h3>
<p>Controls respiratory symptoms.</p>
<table class="table">
<colgroup>
<col width="45%">
<col width="54%">
</colgroup>
<thead><tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>logit_p_cough_COPD_by_sex</code></td>
<td>Cough probability for COPD patients</td>
</tr>
<tr class="even">
<td><code>logit_p_cough_nonCOPD_by_sex</code></td>
<td>Cough probability for non-COPD</td>
</tr>
<tr class="odd">
<td><code>logit_p_phlegm_COPD_by_sex</code></td>
<td>Phlegm probability for COPD patients</td>
</tr>
<tr class="even">
<td><code>logit_p_phlegm_nonCOPD_by_sex</code></td>
<td>Phlegm probability for non-COPD</td>
</tr>
<tr class="odd">
<td><code>logit_p_dyspnea_COPD_by_sex</code></td>
<td>Dyspnea probability for COPD patients</td>
</tr>
<tr class="even">
<td><code>logit_p_dyspnea_nonCOPD_by_sex</code></td>
<td>Dyspnea probability for non-COPD</td>
</tr>
<tr class="odd">
<td><code>logit_p_wheeze_COPD_by_sex</code></td>
<td>Wheeze probability for COPD patients</td>
</tr>
<tr class="even">
<td><code>logit_p_wheeze_nonCOPD_by_sex</code></td>
<td>Wheeze probability for non-COPD</td>
</tr>
<tr class="odd">
<td><code>covariance_COPD</code></td>
<td>4x4 covariance matrix for symptom random effects (COPD)</td>
</tr>
<tr class="even">
<td><code>covariance_nonCOPD</code></td>
<td>4x4 covariance matrix for symptom random effects (non-COPD)</td>
</tr>
</tbody>
</table>
<hr>
</div>
<div class="section level3">
<h3 id="outpatient-parameters-outpatient">Outpatient Parameters (<code>outpatient</code>)<a class="anchor" aria-label="anchor" href="#outpatient-parameters-outpatient"></a>
</h3>
<p>Controls GP visit frequency.</p>
<table class="table">
<colgroup>
<col width="45%">
<col width="54%">
</colgroup>
<thead><tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>ln_rate_gpvisits_COPD_by_sex</code></td>
<td>GP visit rate for COPD patients</td>
</tr>
<tr class="even">
<td><code>dispersion_gpvisits_COPD</code></td>
<td>Dispersion parameter for COPD GP visits</td>
</tr>
<tr class="odd">
<td><code>ln_rate_gpvisits_nonCOPD_by_sex</code></td>
<td>GP visit rate for non-COPD</td>
</tr>
<tr class="even">
<td><code>dispersion_gpvisits_nonCOPD</code></td>
<td>Dispersion parameter for non-COPD GP visits</td>
</tr>
</tbody>
</table>
<hr>
</div>
<div class="section level3">
<h3 id="diagnosis-parameters-diagnosis">Diagnosis Parameters (<code>diagnosis</code>)<a class="anchor" aria-label="anchor" href="#diagnosis-parameters-diagnosis"></a>
</h3>
<p>Controls COPD diagnosis and case detection.</p>
<table class="table">
<colgroup>
<col width="45%">
<col width="54%">
</colgroup>
<thead><tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>p_case_detection</code></td>
<td>Vector of case detection probabilities by year</td>
</tr>
<tr class="even">
<td><code>case_detection_start_end_yrs</code></td>
<td>Years when case detection program is active</td>
</tr>
<tr class="odd">
<td><code>years_btw_case_detection</code></td>
<td>Interval between case detection opportunities</td>
</tr>
<tr class="even">
<td><code>min_cd_age</code></td>
<td>Minimum age for case detection</td>
</tr>
<tr class="odd">
<td><code>min_cd_pack_years</code></td>
<td>Minimum pack-years for case detection eligibility</td>
</tr>
<tr class="even">
<td><code>min_cd_symptoms</code></td>
<td>Require symptoms for case detection (0 or 1)</td>
</tr>
<tr class="odd">
<td><code>case_detection_methods</code></td>
<td>Sensitivity, specificity, cost for each method</td>
</tr>
<tr class="even">
<td><code>case_detection_methods_eversmokers</code></td>
<td>Methods for ever-smoker population</td>
</tr>
<tr class="odd">
<td><code>case_detection_methods_symptomatic</code></td>
<td>Methods for symptomatic population</td>
</tr>
<tr class="even">
<td><code>logit_p_prevalent_diagnosis_by_sex</code></td>
<td>Probability of diagnosis at baseline</td>
</tr>
<tr class="odd">
<td><code>logit_p_diagnosis_by_sex</code></td>
<td>Probability of diagnosis during follow-up</td>
</tr>
<tr class="even">
<td><code>p_hosp_diagnosis</code></td>
<td>Probability of diagnosis during hospitalization</td>
</tr>
<tr class="odd">
<td><code>logit_p_overdiagnosis_by_sex</code></td>
<td>Probability of false COPD diagnosis</td>
</tr>
<tr class="even">
<td><code>p_correct_overdiagnosis</code></td>
<td>Probability of correcting overdiagnosis</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example: Enable case detection program</span></span>
<span><span class="va">input</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_input.html">get_input</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">input</span><span class="op">$</span><span class="va">values</span><span class="op">$</span><span class="va">diagnosis</span><span class="op">$</span><span class="va">case_detection_start_end_yrs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">20</span><span class="op">)</span>  <span class="co"># Active years 0-20</span></span>
<span><span class="va">input</span><span class="op">$</span><span class="va">values</span><span class="op">$</span><span class="va">diagnosis</span><span class="op">$</span><span class="va">p_case_detection</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">20</span><span class="op">)</span>  <span class="co"># 10% annual probability</span></span>
<span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate.html">simulate</a></span><span class="op">(</span>input <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">values</span><span class="op">)</span></span>
<span><span class="co">#&gt; === EPIC Simulation Configuration ===</span></span>
<span><span class="co">#&gt; Jurisdiction: CANADA</span></span>
<span><span class="co">#&gt; Time horizon: 20 years</span></span>
<span><span class="co">#&gt; Number of agents: 60,000</span></span>
<span><span class="co">#&gt; Event recording: DISABLED</span></span>
<span><span class="co">#&gt; =====================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Starting simulation...</span></span>
<span><span class="co">#&gt; No active session - initializing automatically</span></span>
<span><span class="co">#&gt; Initializing the session</span></span>
<span><span class="co">#&gt; Working directory: /home/runner/work/epicR/epicR/vignettes</span></span>
<span><span class="co">#&gt; Running EPIC model (with custom input parameters)</span></span>
<span><span class="co">#&gt; Record mode: record_mode_none (0)</span></span>
<span><span class="co">#&gt; Note: No events will be recorded. Use record_mode_event (2) or record_mode_agent (1) to record events.</span></span>
<span><span class="co">#&gt; Simulating 60000 base agents: 10% 20% 30% 40% 50%</span></span>
<span><span class="co">#&gt; 60% 70% 80% 90% 100%</span></span>
<span><span class="co">#&gt; Simulation completed in 3.1 seconds</span></span>
<span><span class="co">#&gt; Collecting results...</span></span>
<span><span class="co">#&gt; Collecting extended results...</span></span>
<span><span class="co">#&gt; Terminating the session</span></span>
<span><span class="co">#&gt; Done!</span></span></code></pre></div>
<hr>
</div>
<div class="section level3">
<h3 id="medication-parameters-medication">Medication Parameters (<code>medication</code>)<a class="anchor" aria-label="anchor" href="#medication-parameters-medication"></a>
</h3>
<p>Controls medication use and effects.</p>
<table class="table">
<colgroup>
<col width="45%">
<col width="54%">
</colgroup>
<thead><tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>medication_adherence</code></td>
<td>Proportion adhering to medication (default: 0.7)</td>
</tr>
<tr class="even">
<td><code>medication_ln_hr_exac</code></td>
<td>Log hazard ratio for exacerbation reduction by treatment</td>
</tr>
<tr class="odd">
<td><code>medication_costs</code></td>
<td>Annual costs by medication class</td>
</tr>
<tr class="even">
<td><code>medication_utility</code></td>
<td>Utility gain by medication class</td>
</tr>
</tbody>
</table>
<p><strong>Medication Classes:</strong></p>
<table class="table">
<colgroup>
<col width="26%">
<col width="23%">
<col width="50%">
</colgroup>
<thead><tr class="header">
<th>Class</th>
<th>Code</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>none</code></td>
<td>0</td>
<td>No medication</td>
</tr>
<tr class="even">
<td><code>SABA</code></td>
<td>1</td>
<td>Short-acting beta-agonist</td>
</tr>
<tr class="odd">
<td><code>LAMA</code></td>
<td>4</td>
<td>Long-acting muscarinic antagonist</td>
</tr>
<tr class="even">
<td><code>LAMA/LABA</code></td>
<td>6</td>
<td>Long-acting muscarinic antagonist/Long-acting beta-agonist</td>
</tr>
<tr class="odd">
<td><code>ICS/LAMA/LABA</code></td>
<td>14</td>
<td>Triple Therapy</td>
</tr>
</tbody>
</table>
<p>Combinations are represented as sums (e.g., ICS+LAMA+LABA = 8+4+2 =
14).</p>
<hr>
</div>
<div class="section level3">
<h3 id="cost-parameters-cost">Cost Parameters (<code>cost</code>)<a class="anchor" aria-label="anchor" href="#cost-parameters-cost"></a>
</h3>
<p>All costs are in local currency (CAD for Canada, USD for US).</p>
<table class="table">
<colgroup>
<col width="45%">
<col width="54%">
</colgroup>
<thead><tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>bg_cost_by_stage</code></td>
<td>Annual maintenance costs by GOLD stage (0=no COPD, 1-4=GOLD
stages)</td>
</tr>
<tr class="even">
<td><code>exac_dcost</code></td>
<td>Incremental cost per exacerbation by severity (4 values)</td>
</tr>
<tr class="odd">
<td><code>cost_case_detection</code></td>
<td>Cost of case detection procedure</td>
</tr>
<tr class="even">
<td><code>cost_outpatient_diagnosis</code></td>
<td>Cost of outpatient diagnosis</td>
</tr>
<tr class="odd">
<td><code>cost_gp_visit</code></td>
<td>Cost per GP visit</td>
</tr>
<tr class="even">
<td><code>cost_smoking_cessation</code></td>
<td>Cost of smoking cessation treatment</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example: View and modify costs</span></span>
<span><span class="va">input</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_input.html">get_input</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View default exacerbation costs</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">values</span><span class="op">$</span><span class="va">cost</span><span class="op">$</span><span class="va">exac_dcost</span><span class="op">)</span></span>
<span><span class="co">#&gt;         [,1]     [,2]     [,3]    [,4]</span></span>
<span><span class="co">#&gt; [1,] 30.5312 764.2128 9699.226 21226.9</span></span>
<span><span class="co"># Columns: mild, moderate, severe, very_severe</span></span>
<span></span>
<span><span class="co"># Double the cost of severe exacerbations</span></span>
<span><span class="va">input</span><span class="op">$</span><span class="va">values</span><span class="op">$</span><span class="va">cost</span><span class="op">$</span><span class="va">exac_dcost</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">input</span><span class="op">$</span><span class="va">values</span><span class="op">$</span><span class="va">cost</span><span class="op">$</span><span class="va">exac_dcost</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span> <span class="op">*</span> <span class="fl">2</span></span>
<span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate.html">simulate</a></span><span class="op">(</span>input <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">values</span><span class="op">)</span></span>
<span><span class="co">#&gt; === EPIC Simulation Configuration ===</span></span>
<span><span class="co">#&gt; Jurisdiction: CANADA</span></span>
<span><span class="co">#&gt; Time horizon: 20 years</span></span>
<span><span class="co">#&gt; Number of agents: 60,000</span></span>
<span><span class="co">#&gt; Event recording: DISABLED</span></span>
<span><span class="co">#&gt; =====================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Starting simulation...</span></span>
<span><span class="co">#&gt; No active session - initializing automatically</span></span>
<span><span class="co">#&gt; Initializing the session</span></span>
<span><span class="co">#&gt; Working directory: /home/runner/work/epicR/epicR/vignettes</span></span>
<span><span class="co">#&gt; Running EPIC model (with custom input parameters)</span></span>
<span><span class="co">#&gt; Record mode: record_mode_none (0)</span></span>
<span><span class="co">#&gt; Note: No events will be recorded. Use record_mode_event (2) or record_mode_agent (1) to record events.</span></span>
<span><span class="co">#&gt; Simulating 60000 base agents: 10% 20% 30% 40% 50%</span></span>
<span><span class="co">#&gt; 60% 70% 80% 90% 100%</span></span>
<span><span class="co">#&gt; Simulation completed in 3.1 seconds</span></span>
<span><span class="co">#&gt; Collecting results...</span></span>
<span><span class="co">#&gt; Collecting extended results...</span></span>
<span><span class="co">#&gt; Terminating the session</span></span>
<span><span class="co">#&gt; Done!</span></span></code></pre></div>
<hr>
</div>
<div class="section level3">
<h3 id="utility-parameters-utility">Utility Parameters (<code>utility</code>)<a class="anchor" aria-label="anchor" href="#utility-parameters-utility"></a>
</h3>
<p>Quality of life values (0-1 scale, where 1 = perfect health).</p>
<table class="table">
<colgroup>
<col width="45%">
<col width="54%">
</colgroup>
<thead><tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>bg_util_by_stage</code></td>
<td>Background utility by GOLD stage (5 values: no COPD + 4 stages)</td>
</tr>
<tr class="even">
<td><code>exac_dutil</code></td>
<td>Utility decrement during exacerbation (4x4 matrix: severity x
GOLD)</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example: View utility values</span></span>
<span><span class="va">input</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_input.html">get_input</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Background utilities by stage</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">values</span><span class="op">$</span><span class="va">utility</span><span class="op">$</span><span class="va">bg_util_by_stage</span><span class="op">)</span></span>
<span><span class="co">#&gt;      [,1] [,2] [,3] [,4] [,5]</span></span>
<span><span class="co">#&gt; [1,] 0.86 0.81 0.72 0.68 0.58</span></span>
<span><span class="co"># Typical values: No COPD=0.86, GOLD1=0.81, GOLD2=0.72, GOLD3=0.68, GOLD4=0.58</span></span>
<span></span>
<span><span class="co"># Exacerbation disutility matrix</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">values</span><span class="op">$</span><span class="va">utility</span><span class="op">$</span><span class="va">exac_dutil</span><span class="op">)</span></span>
<span><span class="co">#&gt;        gold1   gold2   gold3   gold4</span></span>
<span><span class="co">#&gt; [1,] -0.0225 -0.0155 -0.0488 -0.0488</span></span>
<span><span class="co">#&gt; [2,] -0.0225 -0.0155 -0.0488 -0.0488</span></span>
<span><span class="co">#&gt; [3,] -0.0728 -0.0683 -0.0655 -0.0655</span></span>
<span><span class="co">#&gt; [4,] -0.0728 -0.0683 -0.0655 -0.0655</span></span></code></pre></div>
<hr>
</div>
<div class="section level3">
<h3 id="manualadvanced-parameters-manual">Manual/Advanced Parameters (<code>manual</code>)<a class="anchor" aria-label="anchor" href="#manualadvanced-parameters-manual"></a>
</h3>
<p>Calibration and advanced settings.</p>
<table class="table">
<colgroup>
<col width="45%">
<col width="54%">
</colgroup>
<thead><tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>MORT_COEFF</code></td>
<td>Global mortality coefficient multiplier</td>
</tr>
<tr class="even">
<td><code>smoking$intercept_k</code></td>
<td>Smoking intercept adjustment</td>
</tr>
<tr class="odd">
<td><code>explicit_mortality_by_age_sex</code></td>
<td>COPD-attributable mortality to subtract from background</td>
</tr>
</tbody>
</table>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="accessing-parameter-help-and-references">Accessing Parameter Help and References<a class="anchor" aria-label="anchor" href="#accessing-parameter-help-and-references"></a>
</h2>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">input</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_input.html">get_input</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get help text for a parameter</span></span>
<span><span class="va">input</span><span class="op">$</span><span class="va">help</span><span class="op">$</span><span class="va">exacerbation</span><span class="op">$</span><span class="va">ln_rate_betas</span></span>
<span><span class="co">#&gt; [1] "Regression coefficients for the random-effects log-hazard model of exacerbation (of any severity)"</span></span>
<span><span class="co"># Returns: "Regression coefficients for the random-effects log-hazard model..."</span></span>
<span></span>
<span><span class="co"># Get literature reference</span></span>
<span><span class="va">input</span><span class="op">$</span><span class="va">ref</span><span class="op">$</span><span class="va">smoking</span><span class="op">$</span><span class="va">mortality_factor_current</span></span>
<span><span class="co">#&gt; [1] "Meta-analysis. doi:10.1001/archinternmed.2012.1397"</span></span>
<span><span class="co"># Returns: "Meta-analysis. doi:10.1001/archinternmed.2012.1397"</span></span>
<span></span>
<span><span class="co"># List all help for a category</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">help</span><span class="op">$</span><span class="va">cost</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "bg_cost_by_stage"          "exac_dcost"               </span></span>
<span><span class="co">#&gt; [3] "cost_case_detection"       "cost_outpatient_diagnosis"</span></span>
<span><span class="co">#&gt; [5] "cost_gp_visit"             "cost_smoking_cessation"</span></span></code></pre></div>
<hr>
</div>
<div class="section level2">
<h2 id="running-simulations-with-custom-inputs">Running Simulations with Custom Inputs<a class="anchor" aria-label="anchor" href="#running-simulations-with-custom-inputs"></a>
</h2>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Complete workflow example</span></span>
<span><span class="va">input</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_input.html">get_input</a></span><span class="op">(</span>jurisdiction <span class="op">=</span> <span class="st">"canada"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Modify multiple parameters</span></span>
<span><span class="va">input</span><span class="op">$</span><span class="va">values</span><span class="op">$</span><span class="va">global_parameters</span><span class="op">$</span><span class="va">time_horizon</span> <span class="op">&lt;-</span> <span class="fl">10</span></span>
<span><span class="va">input</span><span class="op">$</span><span class="va">values</span><span class="op">$</span><span class="va">agent</span><span class="op">$</span><span class="va">p_female</span> <span class="op">&lt;-</span> <span class="fl">0.52</span></span>
<span><span class="va">input</span><span class="op">$</span><span class="va">values</span><span class="op">$</span><span class="va">smoking</span><span class="op">$</span><span class="va">ln_h_ces_betas</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">input</span><span class="op">$</span><span class="va">values</span><span class="op">$</span><span class="va">smoking</span><span class="op">$</span><span class="va">ln_h_ces_betas</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">+</span> <span class="fl">0.3</span></span>
<span></span>
<span><span class="co"># Run simulation</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate.html">simulate</a></span><span class="op">(</span>input <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">values</span>, n_agents <span class="op">=</span> <span class="fl">50000</span><span class="op">)</span></span>
<span><span class="co">#&gt; === EPIC Simulation Configuration ===</span></span>
<span><span class="co">#&gt; Jurisdiction: CANADA</span></span>
<span><span class="co">#&gt; Time horizon: 10 years</span></span>
<span><span class="co">#&gt; Number of agents: 50,000</span></span>
<span><span class="co">#&gt; Event recording: DISABLED</span></span>
<span><span class="co">#&gt; =====================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Starting simulation...</span></span>
<span><span class="co">#&gt; No active session - initializing automatically</span></span>
<span><span class="co">#&gt; Initializing the session</span></span>
<span><span class="co">#&gt; Working directory: /home/runner/work/epicR/epicR/vignettes</span></span>
<span><span class="co">#&gt; Running EPIC model (with custom input parameters)</span></span>
<span><span class="co">#&gt; Record mode: record_mode_none (0)</span></span>
<span><span class="co">#&gt; Note: No events will be recorded. Use record_mode_event (2) or record_mode_agent (1) to record events.</span></span>
<span><span class="co">#&gt; Simulating 50000 base agents: 10% 20% 30% 40% 50%</span></span>
<span><span class="co">#&gt; 60% 70% 80% 90% 100%</span></span>
<span><span class="co">#&gt; Simulation completed in 1.2 seconds</span></span>
<span><span class="co">#&gt; Collecting results...</span></span>
<span><span class="co">#&gt; Collecting extended results...</span></span>
<span><span class="co">#&gt; Terminating the session</span></span>
<span><span class="co">#&gt; Done!</span></span>
<span></span>
<span><span class="co"># Access results</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">results</span><span class="op">$</span><span class="va">basic</span><span class="op">)</span></span>
<span><span class="co">#&gt; $n_agents</span></span>
<span><span class="co">#&gt; [1] 63662</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $cumul_time</span></span>
<span><span class="co">#&gt; [1] 518463.6</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $n_deaths</span></span>
<span><span class="co">#&gt; [1] 8435</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $n_COPD</span></span>
<span><span class="co">#&gt; [1] 8927</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $total_exac</span></span>
<span><span class="co">#&gt; [1]  4001 21662  2194   159</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $total_exac_time</span></span>
<span><span class="co">#&gt; [1] 0.9707726 4.3371304 4.6875907 0.6070372</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $total_pack_years</span></span>
<span><span class="co">#&gt; [1] 796316.9</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $total_cost</span></span>
<span><span class="co">#&gt; [1] 71766142</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $total_qaly</span></span>
<span><span class="co">#&gt; [1] 373237.7</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $total_diagnosed_time</span></span>
<span><span class="co">#&gt; [1] 19389.34</span></span></code></pre></div>
<hr>
</div>
<div class="section level2">
<h2 id="output-structure">Output Structure<a class="anchor" aria-label="anchor" href="#output-structure"></a>
</h2>
<p>The <code><a href="../reference/simulate.html">simulate()</a></code> function returns a list with simulation
results.</p>
<div class="section level3">
<h3 id="basic-output-resultsbasic">Basic Output (<code>results$basic</code>)<a class="anchor" aria-label="anchor" href="#basic-output-resultsbasic"></a>
</h3>
<p>Summary statistics from the simulation.</p>
<table class="table">
<colgroup>
<col width="38%">
<col width="61%">
</colgroup>
<thead><tr class="header">
<th>Output</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>n_agents</code></td>
<td>Total number of agents simulated</td>
</tr>
<tr class="even">
<td><code>cumul_time</code></td>
<td>Cumulative person-years of follow-up</td>
</tr>
<tr class="odd">
<td><code>n_deaths</code></td>
<td>Total number of deaths</td>
</tr>
<tr class="even">
<td><code>n_COPD</code></td>
<td>Number of agents with COPD at end of simulation</td>
</tr>
<tr class="odd">
<td><code>total_exac</code></td>
<td>Vector of total exacerbations by severity (4 values)</td>
</tr>
<tr class="even">
<td><code>total_exac_time</code></td>
<td>Cumulative time spent in exacerbation by severity</td>
</tr>
<tr class="odd">
<td><code>total_pack_years</code></td>
<td>Total pack-years across all agents</td>
</tr>
<tr class="even">
<td><code>total_cost</code></td>
<td>Total discounted costs</td>
</tr>
<tr class="odd">
<td><code>total_qaly</code></td>
<td>Total discounted QALYs</td>
</tr>
<tr class="even">
<td><code>total_diagnosed_time</code></td>
<td>Person-years with COPD diagnosis</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate.html">simulate</a></span><span class="op">(</span>n_agents <span class="op">=</span> <span class="fl">50000</span><span class="op">)</span></span>
<span><span class="co">#&gt; === EPIC Simulation Configuration ===</span></span>
<span><span class="co">#&gt; Jurisdiction: CANADA</span></span>
<span><span class="co">#&gt; Time horizon: 20 years</span></span>
<span><span class="co">#&gt; Number of agents: 50,000</span></span>
<span><span class="co">#&gt; Event recording: DISABLED</span></span>
<span><span class="co">#&gt; =====================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Starting simulation...</span></span>
<span><span class="co">#&gt; No active session - initializing automatically</span></span>
<span><span class="co">#&gt; Initializing the session</span></span>
<span><span class="co">#&gt; Working directory: /home/runner/work/epicR/epicR/vignettes</span></span>
<span><span class="co">#&gt; Running EPIC model (with custom input parameters)</span></span>
<span><span class="co">#&gt; Record mode: record_mode_none (0)</span></span>
<span><span class="co">#&gt; Note: No events will be recorded. Use record_mode_event (2) or record_mode_agent (1) to record events.</span></span>
<span><span class="co">#&gt; Simulating 50000 base agents: 10% 20% 30% 40% 50%</span></span>
<span><span class="co">#&gt; 60% 70% 80% 90% 100%</span></span>
<span><span class="co">#&gt; Simulation completed in 2.5 seconds</span></span>
<span><span class="co">#&gt; Collecting results...</span></span>
<span><span class="co">#&gt; Collecting extended results...</span></span>
<span><span class="co">#&gt; Terminating the session</span></span>
<span><span class="co">#&gt; Done!</span></span>
<span></span>
<span><span class="co"># Access basic results</span></span>
<span><span class="va">basic</span> <span class="op">&lt;-</span> <span class="va">results</span><span class="op">$</span><span class="va">basic</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Total agents:"</span>, <span class="va">basic</span><span class="op">$</span><span class="va">n_agents</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Total agents: 80356</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Total deaths:"</span>, <span class="va">basic</span><span class="op">$</span><span class="va">n_deaths</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Total deaths: 17263</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Mild exacerbations:"</span>, <span class="va">basic</span><span class="op">$</span><span class="va">total_exac</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Mild exacerbations: 8580</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Moderate exacerbations:"</span>, <span class="va">basic</span><span class="op">$</span><span class="va">total_exac</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Moderate exacerbations: 50537</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Severe exacerbations:"</span>, <span class="va">basic</span><span class="op">$</span><span class="va">total_exac</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Severe exacerbations: 4857</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Very severe exacerbations:"</span>, <span class="va">basic</span><span class="op">$</span><span class="va">total_exac</span><span class="op">[</span><span class="fl">4</span><span class="op">]</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Very severe exacerbations: 381</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Total cost:"</span>, <span class="va">basic</span><span class="op">$</span><span class="va">total_cost</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Total cost: 167465991</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Total QALYs:"</span>, <span class="va">basic</span><span class="op">$</span><span class="va">total_qaly</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Total QALYs: 688820.5</span></span></code></pre></div>
<hr>
</div>
<div class="section level3">
<h3 id="extended-output-resultsextended">Extended Output (<code>results$extended</code>)<a class="anchor" aria-label="anchor" href="#extended-output-resultsextended"></a>
</h3>
<p>Detailed breakdowns by time, age, sex, and disease stage. Extended
results are included by default. Note:
<code>ctime = calendar time</code>, <code>ltime = local time</code></p>
<div class="section level4">
<h4 id="population-counts-by-time">Population Counts by Time<a class="anchor" aria-label="anchor" href="#population-counts-by-time"></a>
</h4>
<table class="table">
<colgroup>
<col width="24%">
<col width="36%">
<col width="39%">
</colgroup>
<thead><tr class="header">
<th>Output</th>
<th>Dimensions</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>n_alive_by_ctime_sex</code></td>
<td>time_horizon x 2</td>
<td>Alive agents by calendar time and sex</td>
</tr>
<tr class="even">
<td><code>n_alive_by_ctime_age</code></td>
<td>time_horizon x 111</td>
<td>Alive agents by calendar time and age</td>
</tr>
<tr class="odd">
<td><code>n_alive_by_age_sex</code></td>
<td>111 x 2</td>
<td>Alive agents by age and sex (total)</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="smoking-status-by-time">Smoking Status by Time<a class="anchor" aria-label="anchor" href="#smoking-status-by-time"></a>
</h4>
<table class="table">
<colgroup>
<col width="24%">
<col width="36%">
<col width="39%">
</colgroup>
<thead><tr class="header">
<th>Output</th>
<th>Dimensions</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>n_smoking_status_by_ctime</code></td>
<td>time_horizon x 3</td>
<td>Agents by smoking status (never/current/former)</td>
</tr>
<tr class="even">
<td><code>n_current_smoker_by_ctime_sex</code></td>
<td>time_horizon x 2</td>
<td>Current smokers by time and sex</td>
</tr>
<tr class="odd">
<td><code>cumul_time_by_smoking_status</code></td>
<td>3</td>
<td>Person-years by smoking status</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="copd-outcomes-by-time">COPD Outcomes by Time<a class="anchor" aria-label="anchor" href="#copd-outcomes-by-time"></a>
</h4>
<table class="table">
<colgroup>
<col width="24%">
<col width="36%">
<col width="39%">
</colgroup>
<thead><tr class="header">
<th>Output</th>
<th>Dimensions</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>n_COPD_by_ctime_sex</code></td>
<td>time_horizon x 2</td>
<td>COPD cases by time and sex</td>
</tr>
<tr class="even">
<td><code>n_COPD_by_ctime_age</code></td>
<td>time_horizon x 111</td>
<td>COPD cases by time and age</td>
</tr>
<tr class="odd">
<td><code>n_COPD_by_ctime_severity</code></td>
<td>time_horizon x 5</td>
<td>COPD cases by time and GOLD stage (0-4)</td>
</tr>
<tr class="even">
<td><code>n_COPD_by_age_sex</code></td>
<td>111 x 2</td>
<td>COPD cases by age and sex (total)</td>
</tr>
<tr class="odd">
<td><code>n_inc_COPD_by_ctime_age</code></td>
<td>time_horizon x 111</td>
<td>Incident COPD cases by time and age</td>
</tr>
<tr class="even">
<td><code>cumul_non_COPD_time</code></td>
<td>scalar</td>
<td>Total person-years without COPD</td>
</tr>
<tr class="odd">
<td><code>cumul_time_by_ctime_GOLD</code></td>
<td>time_horizon x 5</td>
<td>Person-years by time and GOLD stage. GOLD0 = no COPD</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="diagnosis-outcomes">Diagnosis Outcomes<a class="anchor" aria-label="anchor" href="#diagnosis-outcomes"></a>
</h4>
<table class="table">
<colgroup>
<col width="24%">
<col width="36%">
<col width="39%">
</colgroup>
<thead><tr class="header">
<th>Output</th>
<th>Dimensions</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>n_Diagnosed_by_ctime_sex</code></td>
<td>time_horizon x 2</td>
<td>Diagnosed COPD cases by time and sex</td>
</tr>
<tr class="even">
<td><code>n_Diagnosed_by_ctime_severity</code></td>
<td>time_horizon x 4</td>
<td>Diagnosed cases by time and GOLD stage</td>
</tr>
<tr class="odd">
<td><code>n_Overdiagnosed_by_ctime_sex</code></td>
<td>time_horizon x 2</td>
<td>False diagnoses by time and sex</td>
</tr>
<tr class="even">
<td><code>n_case_detection_by_ctime</code></td>
<td>time_horizon x 4</td>
<td>Case detection events by time and method</td>
</tr>
<tr class="odd">
<td><code>n_case_detection_eligible</code></td>
<td>scalar</td>
<td>Total eligible for case detection</td>
</tr>
<tr class="even">
<td><code>n_diagnosed_true_CD</code></td>
<td>scalar</td>
<td>True positives from case detection</td>
</tr>
<tr class="odd">
<td><code>n_agents_CD</code></td>
<td>scalar</td>
<td>Agents who received case detection</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="exacerbation-outcomes">Exacerbation Outcomes<a class="anchor" aria-label="anchor" href="#exacerbation-outcomes"></a>
</h4>
<table class="table">
<colgroup>
<col width="24%">
<col width="36%">
<col width="39%">
</colgroup>
<thead><tr class="header">
<th>Output</th>
<th>Dimensions</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>n_exac_by_ctime_age</code></td>
<td>time_horizon x 111</td>
<td>Exacerbations by time and age</td>
</tr>
<tr class="even">
<td><code>n_exac_by_ctime_severity</code></td>
<td>time_horizon x 4</td>
<td>Exacerbations by time and severity</td>
</tr>
<tr class="odd">
<td><code>n_exac_by_ctime_sex</code></td>
<td>time_horizon x 2</td>
<td>Exacerbations by time and sex</td>
</tr>
<tr class="even">
<td><code>n_exac_by_ctime_GOLD</code></td>
<td>time_horizon x 4</td>
<td>Exacerbations by time and GOLD stage</td>
</tr>
<tr class="odd">
<td><code>n_exac_by_gold_severity</code></td>
<td>4 x 4</td>
<td>Exacerbations by GOLD stage and severity</td>
</tr>
<tr class="even">
<td><code>n_exac_by_gold_severity_diagnosed</code></td>
<td>4 x 4</td>
<td>Exacerbations among diagnosed patients</td>
</tr>
<tr class="odd">
<td><code>n_severep_exac_by_ctime_age</code></td>
<td>time_horizon x 111</td>
<td>Severe and very severe exacerbations by time and age</td>
</tr>
<tr class="even">
<td><code>n_exac_by_ctime_severity_undiagnosed</code></td>
<td>time_horizon x 4</td>
<td>Exacerbations in undiagnosed patients</td>
</tr>
<tr class="odd">
<td><code>n_exac_by_ctime_severity_diagnosed</code></td>
<td>time_horizon x 4</td>
<td>Exacerbations in diagnosed patients</td>
</tr>
<tr class="even">
<td><code>n_exac_by_ctime_severity_female</code></td>
<td>time_horizon x 4</td>
<td>Exacerbations in females by severity</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="death-outcomes">Death Outcomes<a class="anchor" aria-label="anchor" href="#death-outcomes"></a>
</h4>
<table class="table">
<colgroup>
<col width="24%">
<col width="36%">
<col width="39%">
</colgroup>
<thead><tr class="header">
<th>Output</th>
<th>Dimensions</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>n_death_by_age_sex</code></td>
<td>111 x 2</td>
<td>Deaths by age and sex</td>
</tr>
<tr class="even">
<td><code>n_exac_death_by_ctime_age</code></td>
<td>time_horizon x 111</td>
<td>Exacerbation deaths by time and age</td>
</tr>
<tr class="odd">
<td><code>n_exac_death_by_ctime_severity</code></td>
<td>time_horizon x 4</td>
<td>Exacerbation deaths by severity</td>
</tr>
<tr class="even">
<td><code>n_exac_death_by_age_sex</code></td>
<td>111 x 2</td>
<td>Exacerbation deaths by age and sex</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="cost-and-qaly-outcomes">Cost and QALY Outcomes<a class="anchor" aria-label="anchor" href="#cost-and-qaly-outcomes"></a>
</h4>
<table class="table">
<colgroup>
<col width="24%">
<col width="36%">
<col width="39%">
</colgroup>
<thead><tr class="header">
<th>Output</th>
<th>Dimensions</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>annual_cost_ctime</code></td>
<td>time_horizon</td>
<td>Annual costs by calendar time</td>
</tr>
<tr class="even">
<td><code>cumul_cost_ctime</code></td>
<td>time_horizon</td>
<td>Cumulative costs by calendar time</td>
</tr>
<tr class="odd">
<td><code>cumul_cost_gold_ctime</code></td>
<td>time_horizon x 5</td>
<td>Cumulative costs by time and GOLD stage</td>
</tr>
<tr class="even">
<td><code>cumul_qaly_ctime</code></td>
<td>time_horizon</td>
<td>Cumulative QALYs by calendar time</td>
</tr>
<tr class="odd">
<td><code>cumul_qaly_gold_ctime</code></td>
<td>time_horizon x 5</td>
<td>Cumulative QALYs by time and GOLD stage</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="additional-summary-statistics">Additional Summary Statistics<a class="anchor" aria-label="anchor" href="#additional-summary-statistics"></a>
</h4>
<table class="table">
<colgroup>
<col width="24%">
<col width="36%">
<col width="39%">
</colgroup>
<thead><tr class="header">
<th>Output</th>
<th>Dimensions</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>sum_fev1_ltime</code></td>
<td>time_horizon</td>
<td>Sum of FEV1 values by local time</td>
</tr>
<tr class="even">
<td><code>sum_p_COPD_by_ctime_sex</code></td>
<td>time_horizon x 2</td>
<td>Sum of COPD probabilities by time/sex</td>
</tr>
<tr class="odd">
<td><code>sum_pack_years_by_ctime_sex</code></td>
<td>time_horizon x 2</td>
<td>Sum of pack-years by time and sex</td>
</tr>
<tr class="even">
<td><code>sum_age_by_ctime_sex</code></td>
<td>time_horizon x 2</td>
<td>Sum of ages by time and sex</td>
</tr>
<tr class="odd">
<td><code>sum_time_by_ctime_sex</code></td>
<td>time_horizon x 2</td>
<td>Person-time by calendar time and sex</td>
</tr>
<tr class="even">
<td><code>sum_time_by_age_sex</code></td>
<td>111 x 2</td>
<td>Person-time by age and sex</td>
</tr>
<tr class="odd">
<td><code>sum_weight_by_ctime_sex</code></td>
<td>time_horizon x 2</td>
<td>Sum of weights by time and sex</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="symptom-and-gp-visit-outcomes">Symptom and GP Visit Outcomes<a class="anchor" aria-label="anchor" href="#symptom-and-gp-visit-outcomes"></a>
</h4>
<table class="table">
<colgroup>
<col width="24%">
<col width="36%">
<col width="39%">
</colgroup>
<thead><tr class="header">
<th>Output</th>
<th>Dimensions</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>n_GPvisits_by_ctime_sex</code></td>
<td>time_horizon x 2</td>
<td>GP visits by time and sex</td>
</tr>
<tr class="even">
<td><code>n_GPvisits_by_ctime_severity</code></td>
<td>time_horizon x 5</td>
<td>GP visits by time and GOLD stage</td>
</tr>
<tr class="odd">
<td><code>n_GPvisits_by_ctime_diagnosis</code></td>
<td>time_horizon x 2</td>
<td>GP visits by diagnosis status</td>
</tr>
<tr class="even">
<td><code>n_cough_by_ctime_severity</code></td>
<td>time_horizon x 5</td>
<td>Number with cough by time and GOLD</td>
</tr>
<tr class="odd">
<td><code>n_phlegm_by_ctime_severity</code></td>
<td>time_horizon x 5</td>
<td>Number with phlegm by time and GOLD</td>
</tr>
<tr class="even">
<td><code>n_wheeze_by_ctime_severity</code></td>
<td>time_horizon x 5</td>
<td>Number with wheeze by time and GOLD</td>
</tr>
<tr class="odd">
<td><code>n_dyspnea_by_ctime_severity</code></td>
<td>time_horizon x 5</td>
<td>Number with dyspnea by time and GOLD</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="medication-outcomes">Medication Outcomes<a class="anchor" aria-label="anchor" href="#medication-outcomes"></a>
</h4>
<table class="table">
<colgroup>
<col width="24%">
<col width="36%">
<col width="39%">
</colgroup>
<thead><tr class="header">
<th>Output</th>
<th>Dimensions</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>medication_time_by_class</code></td>
<td>5</td>
<td>Person-time on each medication class</td>
</tr>
<tr class="even">
<td><code>medication_time_by_ctime_class</code></td>
<td>time_horizon x 5</td>
<td>Medication time by year and class</td>
</tr>
<tr class="odd">
<td><code>n_smoking_cessation_by_ctime</code></td>
<td>time_horizon</td>
<td>Smoking cessation treatments by time</td>
</tr>
<tr class="even">
<td><code>n_exac_by_medication_class</code></td>
<td>5 x 4</td>
<td>Exacerbations by medication and severity</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate.html">simulate</a></span><span class="op">(</span>n_agents <span class="op">=</span> <span class="fl">50000</span><span class="op">)</span></span>
<span><span class="co">#&gt; === EPIC Simulation Configuration ===</span></span>
<span><span class="co">#&gt; Jurisdiction: CANADA</span></span>
<span><span class="co">#&gt; Time horizon: 20 years</span></span>
<span><span class="co">#&gt; Number of agents: 50,000</span></span>
<span><span class="co">#&gt; Event recording: DISABLED</span></span>
<span><span class="co">#&gt; =====================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Starting simulation...</span></span>
<span><span class="co">#&gt; No active session - initializing automatically</span></span>
<span><span class="co">#&gt; Initializing the session</span></span>
<span><span class="co">#&gt; Working directory: /home/runner/work/epicR/epicR/vignettes</span></span>
<span><span class="co">#&gt; Running EPIC model (with custom input parameters)</span></span>
<span><span class="co">#&gt; Record mode: record_mode_none (0)</span></span>
<span><span class="co">#&gt; Note: No events will be recorded. Use record_mode_event (2) or record_mode_agent (1) to record events.</span></span>
<span><span class="co">#&gt; Simulating 50000 base agents: 10% 20% 30% 40% 50%</span></span>
<span><span class="co">#&gt; 60% 70% 80% 90% 100%</span></span>
<span><span class="co">#&gt; Simulation completed in 2.5 seconds</span></span>
<span><span class="co">#&gt; Collecting results...</span></span>
<span><span class="co">#&gt; Collecting extended results...</span></span>
<span><span class="co">#&gt; Terminating the session</span></span>
<span><span class="co">#&gt; Done!</span></span>
<span></span>
<span><span class="co"># Access extended results</span></span>
<span><span class="va">extended</span> <span class="op">&lt;-</span> <span class="va">results</span><span class="op">$</span><span class="va">extended</span></span>
<span></span>
<span><span class="co"># Calculate COPD prevalence over time</span></span>
<span><span class="va">copd_prevalence</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="va">extended</span><span class="op">$</span><span class="va">n_COPD_by_ctime_sex</span><span class="op">)</span> <span class="op">/</span></span>
<span>                   <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="va">extended</span><span class="op">$</span><span class="va">n_alive_by_ctime_sex</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">copd_prevalence</span>, type <span class="op">=</span> <span class="st">"l"</span>,</span>
<span>     xlab <span class="op">=</span> <span class="st">"Year"</span>, ylab <span class="op">=</span> <span class="st">"COPD Prevalence"</span>,</span>
<span>     main <span class="op">=</span> <span class="st">"COPD Prevalence Over Time"</span><span class="op">)</span></span></code></pre></div>
<p><img src="InputsOutputsStructure_files/figure-html/unnamed-chunk-13-1.png" class="r-plt" alt="" width="700"></p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Calculate annual exacerbation rates by severity</span></span>
<span><span class="va">annual_exac_rates</span> <span class="op">&lt;-</span> <span class="va">extended</span><span class="op">$</span><span class="va">n_exac_by_ctime_severity</span> <span class="op">/</span></span>
<span>                     <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="va">extended</span><span class="op">$</span><span class="va">n_COPD_by_ctime_sex</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Analyze costs by GOLD stage</span></span>
<span><span class="va">costs_by_gold</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">colSums</a></span><span class="op">(</span><span class="va">extended</span><span class="op">$</span><span class="va">cumul_cost_gold_ctime</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">costs_by_gold</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"No COPD"</span>, <span class="st">"GOLD 1"</span>, <span class="st">"GOLD 2"</span>, <span class="st">"GOLD 3"</span>, <span class="st">"GOLD 4"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/barplot.html" class="external-link">barplot</a></span><span class="op">(</span><span class="va">costs_by_gold</span>, main <span class="op">=</span> <span class="st">"Total Costs by GOLD Stage"</span><span class="op">)</span></span></code></pre></div>
<p><img src="InputsOutputsStructure_files/figure-html/unnamed-chunk-13-2.png" class="r-plt" alt="" width="700"></p>
<hr>
</div>
</div>
</div>
<div class="section level2">
<h2 id="event-history-resultsevents">Event History (<code>results$events</code>)<a class="anchor" aria-label="anchor" href="#event-history-resultsevents"></a>
</h2>
<p>For detailed agent-level analysis, you can capture the complete event
history by setting <code>return_events = TRUE</code>.</p>
<p><strong>Note:</strong> Event recording requires significant memory.
Use with caution for large simulations.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Run simulation with event recording</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate.html">simulate</a></span><span class="op">(</span></span>
<span>  n_agents <span class="op">=</span> <span class="fl">10000</span>,</span>
<span>  return_events <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; === EPIC Simulation Configuration ===</span></span>
<span><span class="co">#&gt; Jurisdiction: CANADA</span></span>
<span><span class="co">#&gt; Time horizon: 20 years</span></span>
<span><span class="co">#&gt; Number of agents: 10,000</span></span>
<span><span class="co">#&gt; Event recording: ENABLED (record_mode = 2)</span></span>
<span><span class="co">#&gt; Estimated memory for events: 236.6 MB</span></span>
<span><span class="co">#&gt; =====================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Starting simulation...</span></span>
<span><span class="co">#&gt; No active session - initializing automatically</span></span>
<span><span class="co">#&gt; Initializing the session</span></span>
<span><span class="co">#&gt; Working directory: /home/runner/work/epicR/epicR/vignettes</span></span>
<span><span class="co">#&gt; Running EPIC model (with custom input parameters)</span></span>
<span><span class="co">#&gt; Record mode: record_mode_event (2)</span></span>
<span><span class="co">#&gt; Simulating 10000 base agents: 10% 20% 30% 40% 50%</span></span>
<span><span class="co">#&gt; 60% 70% 80% 90% 100%</span></span>
<span><span class="co">#&gt; Simulation completed in 0.6 seconds</span></span>
<span><span class="co">#&gt; Collecting results...</span></span>
<span><span class="co">#&gt; Collecting extended results...</span></span>
<span><span class="co">#&gt; Collecting event history...</span></span>
<span><span class="co">#&gt; Terminating the session</span></span>
<span><span class="co">#&gt; Done!</span></span>
<span></span>
<span><span class="co"># Access events data frame</span></span>
<span><span class="va">events</span> <span class="op">&lt;-</span> <span class="va">results</span><span class="op">$</span><span class="va">events</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">events</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id local_time female time_at_creation age_at_creation pack_years gold event</span></span>
<span><span class="co">#&gt; 1  0   0.000000      1                0        59.76663   26.11976    0     0</span></span>
<span><span class="co">#&gt; 2  0   1.000000      1                0        59.76663   27.11976    0     1</span></span>
<span><span class="co">#&gt; 3  0   2.000000      1                0        59.76663   28.11976    0     1</span></span>
<span><span class="co">#&gt; 4  0   2.106222      1                0        59.76663   28.22598    0     3</span></span>
<span><span class="co">#&gt; 5  0   3.000000      1                0        59.76663   28.22598    0     1</span></span>
<span><span class="co">#&gt; 6  0   4.000000      1                0        59.76663   28.22598    0     1</span></span>
<span><span class="co">#&gt;   FEV1 FEV1_slope FEV1_acceleration pred_FEV1 smoking_status localtime_at_COPD</span></span>
<span><span class="co">#&gt; 1    0          0                 0         0              1                 0</span></span>
<span><span class="co">#&gt; 2    0          0                 0         0              1                 0</span></span>
<span><span class="co">#&gt; 3    0          0                 0         0              1                 0</span></span>
<span><span class="co">#&gt; 4    0          0                 0         0              0                 0</span></span>
<span><span class="co">#&gt; 5    0          0                 0         0              0                 0</span></span>
<span><span class="co">#&gt; 6    0          0                 0         0              0                 0</span></span>
<span><span class="co">#&gt;   age_at_COPD weight_at_COPD   height followup_after_COPD FEV1_baseline</span></span>
<span><span class="co">#&gt; 1           0              0 1.661169                   0      3.277484</span></span>
<span><span class="co">#&gt; 2           0              0 1.661169                   0      3.277484</span></span>
<span><span class="co">#&gt; 3           0              0 1.661169                   0      3.277484</span></span>
<span><span class="co">#&gt; 4           0              0 1.661169                   0      3.277484</span></span>
<span><span class="co">#&gt; 5           0              0 1.661169                   0      3.277484</span></span>
<span><span class="co">#&gt; 6           0              0 1.661169                   0      3.277484</span></span>
<span><span class="co">#&gt;   exac_status cough phlegm wheeze dyspnea gpvisits diagnosis medication_status</span></span>
<span><span class="co">#&gt; 1           0     0      0      0       0        0         0                 0</span></span>
<span><span class="co">#&gt; 2           0     1      0      0       1        4         0                 0</span></span>
<span><span class="co">#&gt; 3           0     0      0      1       0        3         0                 0</span></span>
<span><span class="co">#&gt; 4           0     0      0      1       0        3         0                 0</span></span>
<span><span class="co">#&gt; 5           0     0      0      0       0        1         0                 0</span></span>
<span><span class="co">#&gt; 6           0     0      0      0       0        4         0                 0</span></span>
<span><span class="co">#&gt;   case_detection cumul_cost cumul_qaly time_at_diagnosis</span></span>
<span><span class="co">#&gt; 1              0          0  0.0000000                 0</span></span>
<span><span class="co">#&gt; 2              0          0  0.8349515                 0</span></span>
<span><span class="co">#&gt; 3              0          0  1.6455839                 0</span></span>
<span><span class="co">#&gt; 4              0          0  1.6455839                 0</span></span>
<span><span class="co">#&gt; 5              0          0  2.4326058                 0</span></span>
<span><span class="co">#&gt; 6              0          0  3.1967046                 0</span></span>
<span><span class="co">#&gt;   exac_history_n_moderate exac_history_n_severe_plus</span></span>
<span><span class="co">#&gt; 1                       0                          0</span></span>
<span><span class="co">#&gt; 2                       0                          0</span></span>
<span><span class="co">#&gt; 3                       0                          0</span></span>
<span><span class="co">#&gt; 4                       0                          0</span></span>
<span><span class="co">#&gt; 5                       0                          0</span></span>
<span><span class="co">#&gt; 6                       0                          0</span></span></code></pre></div>
<div class="section level3">
<h3 id="event-matrix-columns-33-columns">Event Matrix Columns (33 columns)<a class="anchor" aria-label="anchor" href="#event-matrix-columns-33-columns"></a>
</h3>
<table class="table">
<colgroup>
<col width="38%">
<col width="61%">
</colgroup>
<thead><tr class="header">
<th>Column</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>id</code></td>
<td>Unique agent identifier</td>
</tr>
<tr class="even">
<td><code>local_time</code></td>
<td>Time since agent creation (years)</td>
</tr>
<tr class="odd">
<td><code>female</code></td>
<td>Sex (0=male, 1=female)</td>
</tr>
<tr class="even">
<td><code>time_at_creation</code></td>
<td>Calendar time when agent entered model</td>
</tr>
<tr class="odd">
<td><code>age_at_creation</code></td>
<td>Age when agent entered model</td>
</tr>
<tr class="even">
<td><code>pack_years</code></td>
<td>Cumulative pack-years of smoking</td>
</tr>
<tr class="odd">
<td><code>gold</code></td>
<td>GOLD stage (0=no COPD, 1-4=GOLD stages)</td>
</tr>
<tr class="even">
<td><code>event</code></td>
<td>Event type code (see table below)</td>
</tr>
<tr class="odd">
<td><code>FEV1</code></td>
<td>Current FEV1 value (liters)</td>
</tr>
<tr class="even">
<td><code>FEV1_slope</code></td>
<td>FEV1 decline slope</td>
</tr>
<tr class="odd">
<td><code>FEV1_acceleration</code></td>
<td>FEV1 decline acceleration</td>
</tr>
<tr class="even">
<td><code>pred_FEV1</code></td>
<td>Predicted FEV1 based on age/height/sex</td>
</tr>
<tr class="odd">
<td><code>smoking_status</code></td>
<td>Current smoking status (0=not smoking, 1=smoking)</td>
</tr>
<tr class="even">
<td><code>localtime_at_COPD</code></td>
<td>Local time when COPD developed</td>
</tr>
<tr class="odd">
<td><code>age_at_COPD</code></td>
<td>Age when COPD developed</td>
</tr>
<tr class="even">
<td><code>weight_at_COPD</code></td>
<td>Weight when COPD developed</td>
</tr>
<tr class="odd">
<td><code>height</code></td>
<td>Height (meters)</td>
</tr>
<tr class="even">
<td><code>followup_after_COPD</code></td>
<td>Time since COPD onset</td>
</tr>
<tr class="odd">
<td><code>FEV1_baseline</code></td>
<td>FEV1 at COPD onset</td>
</tr>
<tr class="even">
<td><code>exac_status</code></td>
<td>Current exacerbation status (0=none, 1-4=severity)</td>
</tr>
<tr class="odd">
<td><code>cough</code></td>
<td>Cough symptom present (0/1)</td>
</tr>
<tr class="even">
<td><code>phlegm</code></td>
<td>Phlegm symptom present (0/1)</td>
</tr>
<tr class="odd">
<td><code>wheeze</code></td>
<td>Wheeze symptom present (0/1)</td>
</tr>
<tr class="even">
<td><code>dyspnea</code></td>
<td>Dyspnea symptom present (0/1)</td>
</tr>
<tr class="odd">
<td><code>gpvisits</code></td>
<td>Annual number of GP visits</td>
</tr>
<tr class="even">
<td><code>diagnosis</code></td>
<td>Diagnosis status (0=undiagnosed, 1=diagnosed)</td>
</tr>
<tr class="odd">
<td><code>medication_status</code></td>
<td>Medication class bitfield</td>
</tr>
<tr class="even">
<td><code>case_detection</code></td>
<td>Case detection received (0/1)</td>
</tr>
<tr class="odd">
<td><code>cumul_cost</code></td>
<td>Cumulative cost for this agent</td>
</tr>
<tr class="even">
<td><code>cumul_qaly</code></td>
<td>Cumulative QALYs for this agent</td>
</tr>
<tr class="odd">
<td><code>time_at_diagnosis</code></td>
<td>Local time when diagnosed</td>
</tr>
<tr class="even">
<td><code>exac_history_n_moderate</code></td>
<td>Cumulative count of moderate exacerbations</td>
</tr>
<tr class="odd">
<td><code>exac_history_n_severe_plus</code></td>
<td>Cumulative count of severe and very severe exacerbations</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="event-type-codes">Event Type Codes<a class="anchor" aria-label="anchor" href="#event-type-codes"></a>
</h3>
<table class="table">
<thead><tr class="header">
<th>Event</th>
<th>Code</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Start</td>
<td>0</td>
<td>Agent creation</td>
</tr>
<tr class="even">
<td>Annual</td>
<td>1</td>
<td>Annual update (fixed time event)</td>
</tr>
<tr class="odd">
<td>Birthday</td>
<td>2</td>
<td>Birthday event (currently disabled)</td>
</tr>
<tr class="even">
<td>Smoking change</td>
<td>3</td>
<td>Smoking status change (start or quit)</td>
</tr>
<tr class="odd">
<td>COPD incidence</td>
<td>4</td>
<td>New COPD diagnosis</td>
</tr>
<tr class="even">
<td>Exacerbation</td>
<td>5</td>
<td>Exacerbation onset</td>
</tr>
<tr class="odd">
<td>Exacerbation end</td>
<td>6</td>
<td>Exacerbation resolution</td>
</tr>
<tr class="even">
<td>Death by exacerbation</td>
<td>7</td>
<td>Death during exacerbation</td>
</tr>
<tr class="odd">
<td>Doctor visit</td>
<td>8</td>
<td>Doctor visit (not implemented)</td>
</tr>
<tr class="even">
<td>Medication change</td>
<td>9</td>
<td>Medication change (not implemented)</td>
</tr>
<tr class="odd">
<td>Background death</td>
<td>13</td>
<td>Death from background causes</td>
</tr>
<tr class="even">
<td>End</td>
<td>14</td>
<td>End of follow-up</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Analyze events for a specific agent</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate.html">simulate</a></span><span class="op">(</span>n_agents <span class="op">=</span> <span class="fl">10000</span>, return_events <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; === EPIC Simulation Configuration ===</span></span>
<span><span class="co">#&gt; Jurisdiction: CANADA</span></span>
<span><span class="co">#&gt; Time horizon: 20 years</span></span>
<span><span class="co">#&gt; Number of agents: 10,000</span></span>
<span><span class="co">#&gt; Event recording: ENABLED (record_mode = 2)</span></span>
<span><span class="co">#&gt; Estimated memory for events: 236.6 MB</span></span>
<span><span class="co">#&gt; =====================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Starting simulation...</span></span>
<span><span class="co">#&gt; No active session - initializing automatically</span></span>
<span><span class="co">#&gt; Initializing the session</span></span>
<span><span class="co">#&gt; Working directory: /home/runner/work/epicR/epicR/vignettes</span></span>
<span><span class="co">#&gt; Running EPIC model (with custom input parameters)</span></span>
<span><span class="co">#&gt; Record mode: record_mode_event (2)</span></span>
<span><span class="co">#&gt; Simulating 10000 base agents: 10% 20% 30% 40% 50%</span></span>
<span><span class="co">#&gt; 60% 70% 80% 90% 100%</span></span>
<span><span class="co">#&gt; Simulation completed in 0.5 seconds</span></span>
<span><span class="co">#&gt; Collecting results...</span></span>
<span><span class="co">#&gt; Collecting extended results...</span></span>
<span><span class="co">#&gt; Collecting event history...</span></span>
<span><span class="co">#&gt; Terminating the session</span></span>
<span><span class="co">#&gt; Done!</span></span>
<span><span class="va">events</span> <span class="op">&lt;-</span> <span class="va">results</span><span class="op">$</span><span class="va">events</span></span>
<span></span>
<span><span class="co"># Get all events for agent #5</span></span>
<span><span class="va">agent_5_events</span> <span class="op">&lt;-</span> <span class="va">events</span><span class="op">[</span><span class="va">events</span><span class="op">$</span><span class="va">id</span> <span class="op">==</span> <span class="fl">5</span>, <span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">agent_5_events</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"local_time"</span>, <span class="st">"event"</span>, <span class="st">"gold"</span>, <span class="st">"exac_status"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt;     local_time event gold exac_status</span></span>
<span><span class="co">#&gt; 127          0     0    0           0</span></span>
<span><span class="co">#&gt; 128          1     1    0           0</span></span>
<span><span class="co">#&gt; 129          2     1    0           0</span></span>
<span><span class="co">#&gt; 130          3     1    0           0</span></span>
<span><span class="co">#&gt; 131          4     1    0           0</span></span>
<span><span class="co">#&gt; 132          5     1    0           0</span></span>
<span><span class="co">#&gt; 133          6     1    0           0</span></span>
<span><span class="co">#&gt; 134          7     1    0           0</span></span>
<span><span class="co">#&gt; 135          8     1    0           0</span></span>
<span><span class="co">#&gt; 136          9     1    0           0</span></span>
<span><span class="co">#&gt; 137         10     1    0           0</span></span>
<span><span class="co">#&gt; 138         11     1    0           0</span></span>
<span><span class="co">#&gt; 139         12     1    0           0</span></span>
<span><span class="co">#&gt; 140         13     1    0           0</span></span>
<span><span class="co">#&gt; 141         14     1    0           0</span></span>
<span><span class="co">#&gt; 142         15     1    0           0</span></span>
<span><span class="co">#&gt; 143         16     1    0           0</span></span>
<span><span class="co">#&gt; 144         17     1    0           0</span></span>
<span><span class="co">#&gt; 145         18     1    0           0</span></span>
<span><span class="co">#&gt; 146         19     1    0           0</span></span>
<span><span class="co">#&gt; 147         20    14    0           0</span></span>
<span></span>
<span><span class="co"># Count events by type</span></span>
<span><span class="va">event_counts</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">events</span><span class="op">$</span><span class="va">event</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">event_counts</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Start"</span>, <span class="st">"Annual"</span>, <span class="st">"Birthday"</span>, <span class="st">"Smoking"</span>,</span>
<span>                         <span class="st">"COPD"</span>, <span class="st">"Exac"</span>, <span class="st">"Exac_end"</span>, <span class="st">"Exac_death"</span>,</span>
<span>                         <span class="st">"Doctor"</span>, <span class="st">"Med_change"</span>, <span class="st">""</span>, <span class="st">""</span>, <span class="st">""</span>,</span>
<span>                         <span class="st">"Bgd_death"</span>, <span class="st">"End"</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">event_counts</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fl">1</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">event_counts</span><span class="op">)</span></span>
<span><span class="co">#&gt;      Start     Annual    Smoking       COPD       Exac   Exac_end Exac_death </span></span>
<span><span class="co">#&gt;      16071     210012       2920       1012      13745      13539        188 </span></span>
<span><span class="co">#&gt;  Bgd_death        End </span></span>
<span><span class="co">#&gt;       3311      16071</span></span>
<span></span>
<span><span class="co"># Find all exacerbation events</span></span>
<span><span class="va">exac_events</span> <span class="op">&lt;-</span> <span class="va">events</span><span class="op">[</span><span class="va">events</span><span class="op">$</span><span class="va">event</span> <span class="op">==</span> <span class="fl">5</span>, <span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Total exacerbations:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">exac_events</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Total exacerbations: 13745</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"By severity:\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; By severity:</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">exac_events</span><span class="op">$</span><span class="va">exac_status</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     1     2     3     4 </span></span>
<span><span class="co">#&gt;  1817 10844  1009    75</span></span></code></pre></div>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="record-modes">Record Modes<a class="anchor" aria-label="anchor" href="#record-modes"></a>
</h2>
<p>The <code>record_mode</code> setting controls what level of detail is
captured.</p>
<table class="table">
<thead><tr class="header">
<th>Mode</th>
<th>Value</th>
<th>Description</th>
<th>Memory Usage</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>record_mode_none</code></td>
<td>0</td>
<td>Aggregate output only</td>
<td>Minimal</td>
</tr>
<tr class="even">
<td><code>record_mode_agent</code></td>
<td>1</td>
<td>Agent-level summaries</td>
<td>Low</td>
</tr>
<tr class="odd">
<td><code>record_mode_event</code></td>
<td>2</td>
<td>Complete event history</td>
<td>High</td>
</tr>
<tr class="even">
<td><code>record_mode_some_event</code></td>
<td>3</td>
<td>Selected event types only</td>
<td>Medium</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Using settings directly</span></span>
<span><span class="va">settings</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_default_settings.html">get_default_settings</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">settings</span><span class="op">$</span><span class="va">record_mode</span> <span class="op">&lt;-</span> <span class="fl">2</span>  <span class="co"># Full event recording</span></span>
<span><span class="va">settings</span><span class="op">$</span><span class="va">n_base_agents</span> <span class="op">&lt;-</span> <span class="fl">10000</span></span>
<span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate.html">simulate</a></span><span class="op">(</span>settings <span class="op">=</span> <span class="va">settings</span>, return_events <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; === EPIC Simulation Configuration ===</span></span>
<span><span class="co">#&gt; Jurisdiction: CANADA</span></span>
<span><span class="co">#&gt; Time horizon: 20 years</span></span>
<span><span class="co">#&gt; Number of agents: 10,000</span></span>
<span><span class="co">#&gt; Event recording: ENABLED (record_mode = 2)</span></span>
<span><span class="co">#&gt; Estimated memory for events: 236.6 MB</span></span>
<span><span class="co">#&gt; =====================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Starting simulation...</span></span>
<span><span class="co">#&gt; No active session - initializing automatically</span></span>
<span><span class="co">#&gt; Initializing the session</span></span>
<span><span class="co">#&gt; Working directory: /home/runner/work/epicR/epicR/vignettes</span></span>
<span><span class="co">#&gt; Running EPIC model (with custom input parameters)</span></span>
<span><span class="co">#&gt; Record mode: record_mode_event (2)</span></span>
<span><span class="co">#&gt; Simulating 10000 base agents: 10% 20% 30% 40% 50%</span></span>
<span><span class="co">#&gt; 60% 70% 80% 90% 100%</span></span>
<span><span class="co">#&gt; Simulation completed in 0.5 seconds</span></span>
<span><span class="co">#&gt; Collecting results...</span></span>
<span><span class="co">#&gt; Collecting extended results...</span></span>
<span><span class="co">#&gt; Collecting event history...</span></span>
<span><span class="co">#&gt; Terminating the session</span></span>
<span><span class="co">#&gt; Done!</span></span>
<span></span>
<span><span class="co"># Or simply use return_events = TRUE (automatically sets record_mode = 2)</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate.html">simulate</a></span><span class="op">(</span>n_agents <span class="op">=</span> <span class="fl">10000</span>, return_events <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; === EPIC Simulation Configuration ===</span></span>
<span><span class="co">#&gt; Jurisdiction: CANADA</span></span>
<span><span class="co">#&gt; Time horizon: 20 years</span></span>
<span><span class="co">#&gt; Number of agents: 10,000</span></span>
<span><span class="co">#&gt; Event recording: ENABLED (record_mode = 2)</span></span>
<span><span class="co">#&gt; Estimated memory for events: 236.6 MB</span></span>
<span><span class="co">#&gt; =====================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Starting simulation...</span></span>
<span><span class="co">#&gt; No active session - initializing automatically</span></span>
<span><span class="co">#&gt; Initializing the session</span></span>
<span><span class="co">#&gt; Working directory: /home/runner/work/epicR/epicR/vignettes</span></span>
<span><span class="co">#&gt; Running EPIC model (with custom input parameters)</span></span>
<span><span class="co">#&gt; Record mode: record_mode_event (2)</span></span>
<span><span class="co">#&gt; Simulating 10000 base agents: 10% 20% 30% 40% 50%</span></span>
<span><span class="co">#&gt; 60% 70% 80% 90% 100%</span></span>
<span><span class="co">#&gt; Simulation completed in 0.6 seconds</span></span>
<span><span class="co">#&gt; Collecting results...</span></span>
<span><span class="co">#&gt; Collecting extended results...</span></span>
<span><span class="co">#&gt; Collecting event history...</span></span>
<span><span class="co">#&gt; Terminating the session</span></span>
<span><span class="co">#&gt; Done!</span></span></code></pre></div>
<hr>
</div>
<div class="section level2">
<h2 id="complete-example-cost-effectiveness-analysis">Complete Example: Cost-Effectiveness Analysis<a class="anchor" aria-label="anchor" href="#complete-example-cost-effectiveness-analysis"></a>
</h2>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Baseline scenario</span></span>
<span><span class="va">input_baseline</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_input.html">get_input</a></span><span class="op">(</span>jurisdiction <span class="op">=</span> <span class="st">"canada"</span><span class="op">)</span></span>
<span><span class="va">results_baseline</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate.html">simulate</a></span><span class="op">(</span></span>
<span>  input <span class="op">=</span> <span class="va">input_baseline</span><span class="op">$</span><span class="va">values</span>,</span>
<span>  n_agents <span class="op">=</span> <span class="fl">50000</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">12345</span>  <span class="co"># For reproducibility</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Random seed set to: 12345</span></span>
<span><span class="co">#&gt; === EPIC Simulation Configuration ===</span></span>
<span><span class="co">#&gt; Jurisdiction: CANADA</span></span>
<span><span class="co">#&gt; Time horizon: 20 years</span></span>
<span><span class="co">#&gt; Number of agents: 50,000</span></span>
<span><span class="co">#&gt; Event recording: DISABLED</span></span>
<span><span class="co">#&gt; =====================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Starting simulation...</span></span>
<span><span class="co">#&gt; No active session - initializing automatically</span></span>
<span><span class="co">#&gt; Initializing the session</span></span>
<span><span class="co">#&gt; Working directory: /home/runner/work/epicR/epicR/vignettes</span></span>
<span><span class="co">#&gt; Running EPIC model (with custom input parameters)</span></span>
<span><span class="co">#&gt; Record mode: record_mode_none (0)</span></span>
<span><span class="co">#&gt; Note: No events will be recorded. Use record_mode_event (2) or record_mode_agent (1) to record events.</span></span>
<span><span class="co">#&gt; Simulating 50000 base agents: 10% 20% 30% 40% 50%</span></span>
<span><span class="co">#&gt; 60% 70% 80% 90% 100%</span></span>
<span><span class="co">#&gt; Simulation completed in 2.5 seconds</span></span>
<span><span class="co">#&gt; Collecting results...</span></span>
<span><span class="co">#&gt; Collecting extended results...</span></span>
<span><span class="co">#&gt; Terminating the session</span></span>
<span><span class="co">#&gt; Done!</span></span>
<span></span>
<span><span class="co"># Intervention scenario: Enhanced smoking cessation</span></span>
<span><span class="va">input_intervention</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_input.html">get_input</a></span><span class="op">(</span>jurisdiction <span class="op">=</span> <span class="st">"canada"</span><span class="op">)</span></span>
<span><span class="va">input_intervention</span><span class="op">$</span><span class="va">values</span><span class="op">$</span><span class="va">smoking</span><span class="op">$</span><span class="va">ln_h_ces_betas</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">input_intervention</span><span class="op">$</span><span class="va">values</span><span class="op">$</span><span class="va">smoking</span><span class="op">$</span><span class="va">ln_h_ces_betas</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">+</span> <span class="fl">0.5</span></span>
<span></span>
<span><span class="va">results_intervention</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate.html">simulate</a></span><span class="op">(</span></span>
<span>  input <span class="op">=</span> <span class="va">input_intervention</span><span class="op">$</span><span class="va">values</span>,</span>
<span>  n_agents <span class="op">=</span> <span class="fl">50000</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">12345</span>  <span class="co"># Same seed for comparability</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Random seed set to: 12345</span></span>
<span><span class="co">#&gt; === EPIC Simulation Configuration ===</span></span>
<span><span class="co">#&gt; Jurisdiction: CANADA</span></span>
<span><span class="co">#&gt; Time horizon: 20 years</span></span>
<span><span class="co">#&gt; Number of agents: 50,000</span></span>
<span><span class="co">#&gt; Event recording: DISABLED</span></span>
<span><span class="co">#&gt; =====================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Starting simulation...</span></span>
<span><span class="co">#&gt; No active session - initializing automatically</span></span>
<span><span class="co">#&gt; Initializing the session</span></span>
<span><span class="co">#&gt; Working directory: /home/runner/work/epicR/epicR/vignettes</span></span>
<span><span class="co">#&gt; Running EPIC model (with custom input parameters)</span></span>
<span><span class="co">#&gt; Record mode: record_mode_none (0)</span></span>
<span><span class="co">#&gt; Note: No events will be recorded. Use record_mode_event (2) or record_mode_agent (1) to record events.</span></span>
<span><span class="co">#&gt; Simulating 50000 base agents: 10% 20% 30% 40% 50%</span></span>
<span><span class="co">#&gt; 60% 70% 80% 90% 100%</span></span>
<span><span class="co">#&gt; Simulation completed in 2.4 seconds</span></span>
<span><span class="co">#&gt; Collecting results...</span></span>
<span><span class="co">#&gt; Collecting extended results...</span></span>
<span><span class="co">#&gt; Terminating the session</span></span>
<span><span class="co">#&gt; Done!</span></span>
<span></span>
<span><span class="co"># Calculate incremental cost-effectiveness</span></span>
<span><span class="va">delta_cost</span> <span class="op">&lt;-</span> <span class="va">results_intervention</span><span class="op">$</span><span class="va">basic</span><span class="op">$</span><span class="va">total_cost</span> <span class="op">-</span> <span class="va">results_baseline</span><span class="op">$</span><span class="va">basic</span><span class="op">$</span><span class="va">total_cost</span></span>
<span><span class="va">delta_qaly</span> <span class="op">&lt;-</span> <span class="va">results_intervention</span><span class="op">$</span><span class="va">basic</span><span class="op">$</span><span class="va">total_qaly</span> <span class="op">-</span> <span class="va">results_baseline</span><span class="op">$</span><span class="va">basic</span><span class="op">$</span><span class="va">total_qaly</span></span>
<span><span class="va">icer</span> <span class="op">&lt;-</span> <span class="va">delta_cost</span> <span class="op">/</span> <span class="va">delta_qaly</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Baseline total cost:"</span>, <span class="va">results_baseline</span><span class="op">$</span><span class="va">basic</span><span class="op">$</span><span class="va">total_cost</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Baseline total cost: 169165520</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Intervention total cost:"</span>, <span class="va">results_intervention</span><span class="op">$</span><span class="va">basic</span><span class="op">$</span><span class="va">total_cost</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Intervention total cost: 171719698</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Baseline total QALYs:"</span>, <span class="va">results_baseline</span><span class="op">$</span><span class="va">basic</span><span class="op">$</span><span class="va">total_qaly</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Baseline total QALYs: 688131.6</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Intervention total QALYs:"</span>, <span class="va">results_intervention</span><span class="op">$</span><span class="va">basic</span><span class="op">$</span><span class="va">total_qaly</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Intervention total QALYs: 688511.2</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Incremental cost:"</span>, <span class="va">delta_cost</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Incremental cost: 2554179</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Incremental QALYs:"</span>, <span class="va">delta_qaly</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Incremental QALYs: 379.5853</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"ICER:"</span>, <span class="va">icer</span>, <span class="st">"per QALY\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; ICER: 6728.866 per QALY</span></span></code></pre></div>
<hr>
</div>
<div class="section level2">
<h2 id="important-notes">Important Notes<a class="anchor" aria-label="anchor" href="#important-notes"></a>
</h2>
<ul>
<li>
<strong>Starting Age:</strong> EPIC only simulates patients starting
at age 40</li>
<li>
<strong>Comorbidities:</strong> Cardiovascular comorbidities (MI,
stroke, heart failure) are not implemented in the current version</li>
<li>
<strong>Memory:</strong> Event recording can require substantial
memory for large simulations</li>
<li>
<strong>Reproducibility:</strong> Use the <code>seed</code>
parameter for reproducible results</li>
<li>
<strong>Discounting:</strong> Costs and QALYs are discounted at the
rates specified in <code>global_parameters</code>
</li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Mohsen Sadatsafavi, Amin Adibi, Kate Johnson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
